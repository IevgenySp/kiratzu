!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./js/FluidCanvas");!function(a){return a.FluidCanvas=d["default"],a}(window)},{"./js/FluidCanvas":3}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a){this.globalId=0,a&&(this.parameters=a)}return a.prototype.animate=function(a,b){var c=this,d=this;this.parameters?a.apply(void 0,this.parameters.concat([d])):a(d),this.globalId=requestAnimationFrame(function(){c.animate(a,b)}),(this.parameters?b.apply(void 0,this.parameters.concat([d])):b(d))&&cancelAnimationFrame(this.globalId)},a.prototype.setNewParameters=function(a){this.parameters=a},a}();c["default"]=d},{}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("events"),e=a("chroma-js"),f=a("./Storage/Storage"),g=a("./Geometry/ShapesGeometry"),h=a("./Geometry/CompositeGeometry/Composite"),i=a("./Render/render"),j=a("./Animation/Animation"),k=a("./ShapesConstructor/ShapesConstructor"),l=a("./Utils/globals"),m=function(){function a(a){this.canvas=a,this.context=a.getContext("2d"),this.storage=new f["default"],this.geometry=new g["default"],this.compositeGeometry=new h["default"],this.renderer=new i["default"](this.context),this.shapesConstructor=new k["default"],this.eventEmitter=new d.EventEmitter}return a.prototype.shape=function(a,b){var c=this.shapesConstructor.defineShape(a,b),d=this.geometry.initGeometry(c);return this.storage.setShape(d),d},a.prototype.getShapes=function(){return this.storage.getShapes()},a.prototype.transform=function(a,b,c){var d=this;if(Array.isArray(a)||Array.isArray(b)){var f=this.compositeGeometry.transformShapes(a,b,c),g=this,h=[];f.forEach(function(a){var b=a[0].map(function(b,c){return[b,a[1][c]]});return b.forEach(function(a){h.push(d.geometry.transformPreparedShape(a[0],a[1],c))})}),h.forEach(function(a,b){var c=a.colors.start,d=a.colors.end;g.setRenderState(a.geometry,!0),a.transformColors=e.scale([c,d]).mode("lch").colors(a.frames)[Symbol.iterator](),g.storage.setShapeId(a.geometry),g.storage.setTransformationData(a.geometry.id,a)}),a.forEach(function(a){g.storage.deleteShape(a.id)})}else{var i=(this.storage.getShape(b.id),this.geometry.transformShape(a,b,c)),j=a.style.color||l.SYSTEM_PARAMETERS.baseShapeColor,k=b.style.color||l.SYSTEM_PARAMETERS.baseShapeColor;this.setRenderState(a,!0),this.setRenderState(i.geometry,!0),i.transformColors=e.scale([j,k]).mode("lch").colors(i.frames)[Symbol.iterator](),this.storage.setShapeId(i.geometry),this.storage.deleteShape(a.id),this.storage.setTransformationData(i.geometry.id,i)}},a.prototype.animate=function(a,b,c){this.transform(a,b,c);var d=this.storage.getTransformationData(),e=new j["default"],f=this.animationCallback.bind(this,d,b),g=this.animationStopCondition.bind(this);e.animate(f,g)},a.prototype.animationCallback=function(a,b){var c=this,d=this;this.clear(),this.renderAll(),a.forEach(function(a,e){var f=a.iterator.next().value,g=a.geometry;if("undefined"!=typeof f){g.geometry.points=f;var h=a.transformColors.next().value;"undefined"!=typeof h&&(g.style.color=h),c.eventEmitter.emit(l.EVENTS.onAnimationStart,g),d.render(g)}else d.storage.deleteTransformationData(e),0===d.storage.transformationData.size&&c.eventEmitter.emit(l.EVENTS.onAnimationStop,g),Array.isArray(b)?b.forEach(function(a){d.setRenderState(a,!0),d.render(a)}):(c.setRenderState(b,!0),d.render(b))})},a.prototype.animationStopCondition=function(){return 0===this.storage.getTransformationData().size},a.prototype.render=function(a){if(a.type!==l.SHAPES.text.toUpperCase()&&!a.geometry.points)throw"Rendering points for "+a.id+" is not defined";a.isRendered&&this.renderer.render(a)},a.prototype.setRenderState=function(a,b){this.geometry.setShapeRenderState(a,b)},a.prototype.renderAll=function(){for(var a=this.getShapes().entries(),b=this,c=a.next();!c.done;){var d=c.value[1];d.isRendered&&b.renderer.render(d),c=a.next()}},a.prototype.clear=function(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height)},a.prototype.on=function(a,b){this.eventEmitter.on(a,b)},a.prototype.once=function(a,b){this.eventEmitter.once(a,b)},a}();c["default"]=m},{"./Animation/Animation":2,"./Geometry/CompositeGeometry/Composite":6,"./Geometry/ShapesGeometry":10,"./Render/render":19,"./ShapesConstructor/ShapesConstructor":20,"./Storage/Storage":21,"./Utils/globals":22,"chroma-js":24,events:25}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=a("./../Utils/globals"),f=a("./../Interpolation/Linear"),g=a("./../Interpolation/Bezier"),h=a("./../Interpolation/Easing"),i=function(){function a(a){this.geometry=a.geometry,this.advanced=a.advanced,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered,this.minPolygons=2,this.geometry.shapeSidesCoefficient=1}return a.prototype.setShapeGeometry=function(){return this.geometry.polygons=this.normalizePolygons(),this.setGeometry()},a.prototype.resetShapeGeometry=function(){return this.setGeometry()},a.prototype.setGeometry=function(){var a=this.geometry;if(a.referencePoints.length<4)throw"BezierLine shape should consists from at least two pairs of XY points";switch(this.advanced.interpolation){case e.INTERPOLATION.noInterpolation:a.points=d.HELPER.setPointsToBuffer(this.linearPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.linear:a.points=d.HELPER.setPointsToBuffer(this.linearIntPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.bezier:a.points=d.HELPER.setPointsToBuffer(this.bezierIntPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.easing:a.points=d.HELPER.setPointsToBuffer(this.easingIntPoints(),e.SYSTEM_PARAMETERS.dimensions)}return this},a.prototype.normalizePolygons=function(){var a,b=this.geometry;return b.polygons||(a=0),a=b.points?Math.max(b.polygons,e.SYSTEM_PARAMETERS.polygonsPerShape,b.points.length/2):b.referencePoints?b.referencePoints.length/2:Math.max(b.polygons,e.SYSTEM_PARAMETERS.polygonsPerShape),a=b.points?b.points.length/2:(b.referencePoints.length-1)*(e.SYSTEM_PARAMETERS.interpolationPointsPerSegment+1)},a.prototype.resetPoints=function(){},a.prototype.linearPoints=function(){for(var a=this.geometry.referencePoints,b=[],c=0;c<a.length;c++)b.push(a[c]);for(var e=[],c=b.length-1;c>=0;c-=2)e.push(b[c-1]),e.push(b[c]);b=d.HELPER.flattenArray(e,b);var f=new g["default"]([this]),h=this.geometry.polygons/(a.length-1)-1;return f.cardinalSplines(b,this.advanced.bezierTensionFactor,!1,h)},a.prototype.linearIntPoints=function(){for(var a=[],b=this.linearPoints(),c=[],e=[],g=b.length-1;g>=0;g-=2)e.push(b[g-1]),e.push(b[g]);b=d.HELPER.flattenArray(e,b);for(var h=new f["default"]([this]),g=0;g<b.length-2;g+=2)a.push(d.HELPER.getVectorLength(b[g],b[g+1],b[g+2],b[g+3]));for(var i=a.reduce(function(a,b){return a+b},0),j=[],g=0;g<a.length;g++)j.push(a[g]/i);var k=this.geometry.polygons-b.length/2;if(0!==k){var l=d.HELPER.splitPoints(j,k);c=h.getPointsOnVectors(b,l,!0)}else c=b;return c},a.prototype.bezierIntPoints=function(){for(var a,b=this.linearPoints(),c=[],e=[],f=b.length-1;f>=0;f-=2)e.push(b[f-1]),e.push(b[f]);b=d.HELPER.flattenArray(e,b);for(var h=new g["default"]([this]),f=0;f<b.length-2;f+=2){var i=[b[f],b[f+1]],j=[b[f+2],b[f+3]];a=h.bezierInterpolation(i,j,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),c.push(a)}var k=[b[b.length-2],b[b.length-1]],l=[b[0],b[1]];return a=h.bezierInterpolation(k,l,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),c.push(a),d.HELPER.flattenArray(c)},a.prototype.easingIntPoints=function(){for(var a,b=this.linearPoints(),c=[],e=[],f=b.length-1;f>=0;f-=2)e.push(b[f-1]),e.push(b[f]);b=d.HELPER.flattenArray(e,b);for(var g=(this.geometry.polygons-b.length/2)/this.geometry.shapeSidesCoefficient,i=new h["default"]([this]),f=0;f<b.length-2;f+=2){var j=[b[f],b[f+1]],k=[b[f+2],b[f+3]];a=i.easingInterpolation(j,k,0,g,i[this.advanced.xEasing],i[this.advanced.yEasing]),c.push(a)}var l=[b[b.length-2],b[b.length-1]],m=[b[0],b[1]];return a=g>0?i.easingInterpolation(l,m,0,g,i[this.advanced.xEasing],i[this.advanced.yEasing]):b,c.push(a),d.HELPER.flattenArray(c)},a}();c["default"]=i},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../Utils/globals":22,"./../Utils/helper":23}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=a("./../Utils/globals"),f=a("./../Interpolation/Linear"),g=a("./../Interpolation/Bezier"),h=a("./../Interpolation/Easing"),i=function(){function a(a){this.geometry=a.geometry,this.advanced=a.advanced,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered,this.minPolygons=this.setCirclePolygons(a),this.geometry.shapeSidesCoefficient=1}return a.prototype.setShapeGeometry=function(){return this.geometry.polygons=this.normalizePolygons(),this.setGeometry()},a.prototype.resetShapeGeometry=function(){return this.setGeometry()},a.prototype.setGeometry=function(){var a=this.geometry;switch(this.advanced.interpolation){case e.INTERPOLATION.noInterpolation:case e.INTERPOLATION.linear:a.points=d.HELPER.setPointsToBuffer(this.linearPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.bezier:a.points=d.HELPER.setPointsToBuffer(this.bezierPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.easing:a.points=d.HELPER.setPointsToBuffer(this.easingPoints(),e.SYSTEM_PARAMETERS.dimensions)}return this},a.prototype.normalizePolygons=function(){return this.referencePoints().length/2},a.prototype.referencePoints=function(){var a=this.geometry,b=d.HELPER.toRadians(e.SYSTEM_PARAMETERS.circleMinStep),c=360/e.SYSTEM_PARAMETERS.circleMinStep,f=[],g=0,h=d.HELPER.toRadians(a.startAngle)||d.HELPER.toRadians(45);if(a.referencePoints){if(a.referencePoints.length/2<this.minPolygons)throw"Circle shape witch current radius should contain at least "+this.minPolygons+" reference points";return a.referencePoints}for(;c>g;){var i=a.x+a.r*Math.cos(h),j=a.y+a.r*Math.sin(h);f.push(i),f.push(j),h+=b,g+=1}return a.referencePoints=f,a.polygons=c,a.referencePoints},a.prototype.linearPoints=function(){for(var a,b,c=this.referencePoints(),e=[],g=[],h=this.geometry,i=h.polygons,j=new f["default"]([this]),k=0;k<c.length-2;k+=2)e.push(d.HELPER.getVectorLength(c[k],c[k+1],c[k+2],c[k+3]));e.push(d.HELPER.getVectorLength(c[c.length-2],c[c.length-1],c[0],c[1])),a=e.reduce(function(a,b){return a+b},0);for(var k=0;k<e.length;k++)g.push(e[k]/a);return b=d.HELPER.splitPoints(g,i),j.getPointsOnVectors(c,b)},a.prototype.bezierPoints=function(){var a,b,c,e=this.referencePoints(),f=[],h=this.geometry,i=h.polygons;if(i===e.length/2)return e;for(var j=new g["default"]([this]),k=0;k<e.length-2;k+=2)b=[e[k],e[k+1]],c=[e[k+2],e[k+3]],a=j.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=j.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a),d.HELPER.flattenArray(f)},a.prototype.easingPoints=function(){var a,b,c,e=this.referencePoints(),f=[],g=this.geometry,i=g.polygons;if(i===e.length/2)return e;for(var j=new h["default"]([this]),k=0;k<e.length-2;k+=2)b=[e[k],e[k+1]],c=[e[k+2],e[k+3]],a=j.easingInterpolation(b,c,0,this.advanced.interpolationPointsPerSegment,j[this.advanced.xEasing],j[this.advanced.yEasing]),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=j.easingInterpolation(b,c,0,this.advanced.interpolationPointsPerSegment,j[this.advanced.xEasing],j[this.advanced.yEasing]),f.push(a),d.HELPER.flattenArray(f)},a.prototype.setCirclePolygons=function(a){var b=2*Math.PI*a.geometry.r,c=e.SYSTEM_PARAMETERS.circleMinStep;return c>b?1:Math.round(b/c)},a}();c["default"]=i},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../Utils/globals":22,"./../Utils/helper":23}],6:[function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash"),f=a("./../ShapesGeometry"),g=a("./../../Utils/globals"),h=a("./../../Utils/helper"),i=function(a){function b(){return a.call(this)||this}return d(b,a),b.prototype.transformShapes=function(a,b,c){var d=this;this.checkShapeTextType(a),this.checkShapeTextType(b);var e=this.shapesArraysRatio(a,b),f=this.groupShapes(a,b,e);return f.forEach(function(a,b){return d.decompositeShape(f[b],e)}),f},b.prototype.decompositeShape=function(a,b){var c=this;if(0===b)return a;if(1===b){var d=a[0].map(function(a){return a.geometry.polygons}),e=this.groupPolygonsSum(a[0]),f=h.HELPER.commonMultiple(e,a[1][0].geometry.polygons);a[1][0].geometry.polygons=f;var g=this.convertToPolygon(a[1][0]),i=this.normalizeShapesPolygons(d,e,g.geometry.polygons);a[1]=this.splitShapePolygon(g,i),a[0]=a[0].map(function(a,b){return a.geometry.polygons=i[b],c.convertToPolygon(a)})}else{var d=a[1].map(function(a){return a.geometry.polygons}),e=this.groupPolygonsSum(a[1]),f=h.HELPER.commonMultiple(e,a[0][0].geometry.polygons);a[0][0].geometry.polygons=f;var g=this.convertToPolygon(a[0][0]),j=this.normalizeShapesPolygons(d,e,g.geometry.polygons);a[0]=this.splitShapePolygon(g,j),a[1]=a[1].map(function(a,b){return a.geometry.polygons=j[b],c.convertToPolygon(a)})}},b.prototype.splitPolygon=function(a,b){var c=this,d=[],f=e.clone(a.geometry.points)[Symbol.iterator]();b.forEach(function(a){for(var b=[],c=0;a>c;c++)b.push(f.next().value),b.push(f.next().value);d.push(b)});var g=d.map(function(b){return a.geometry.referencePoints=b,a.geometry.polygons=b.length/2,c.convertToPolygon(a)});return g},b.prototype.splitShapePolygon=function(a,b){for(var c=this,d=[],f=e.clone(a.geometry.points),g=0,h=[],i=0;i<f.length-1;i+=2)h.push([f[i],f[i+1]]);var j=e.shuffle(h);b.forEach(function(a){for(var b=[],c=0;a>c;c++)b.push(j[g][0]),b.push(j[g][1]),g++;d.push(b)});var k=d.map(function(b){return a.geometry.referencePoints=b,a.geometry.polygons=b.length/2,c.convertToPolygon(a)});return k},b.prototype.normalizeShapesPolygons=function(a,b,c){var d=c/b,e=a.map(function(a){return Math.round(a*d)}),f=c-e.reduce(function(a,b){return a+b});if(0!==f)if(f>0)for(var g=0;0!==f;)e[g]?(e[g]++,g++):(g=0,e[0]++,g++),f--;else for(var g=0;0!==f;)e[g]?(e[g]--,g++):(g=0,e[0]--,g++),f++;return e},b.prototype.groupPolygonsSum=function(a){return a.map(function(a){return a.geometry.polygons}).reduce(function(a,b){return a+b})},b.prototype.groupShapes=function(a,b,c){var d=[],f=a.map(function(a){return e.cloneDeep(a)}),g=b.map(function(a){return e.cloneDeep(a)});if(0===c)f.forEach(function(a,b){d.push([[a],[g[b]]])});else if(1===c){var h=f.length,i=g.length,j=this.shapesSplitRatio(h,i),k=0;g.forEach(function(a,b){for(var c=[],e=0;e<j[b];e++)c.push(f[k]),k++;d.push([c,[a]])})}else{var h=f.length,i=g.length,l=this.shapesSplitRatio(i,h),m=0;f.forEach(function(a,b){for(var c=[],e=0;e<l[b];e++)c.push(g[m]),m++;d.push([[a],c])})}return d},b.prototype.shapesSplitRatio=function(a,b){var c,d,e=[];c=Math.floor(a/b),d=a-b*c;for(var f=0;b>f;f++)e.push(c);if(0!==d)if(d>1)for(var g=0;0!==d;)e[g]?(e[g]++,g++):(g=0,e[0]++,g++),d--;else e[e.length-1]=c+d;return e},b.prototype.shapesArraysRatio=function(a,b){return a.length==b.length?0:a.length>b.length?1:-1},b.prototype.checkShapeTextType=function(a){a.forEach(function(a){if(a.type===g.SHAPES.text.toUpperCase())throw new Error("Shape of type "+g.SHAPES.text.toUpperCase()+" cannot be used in transformations")})},b}(f["default"]);c["default"]=i},{"./../../Utils/globals":22,"./../../Utils/helper":23,"./../ShapesGeometry":10,lodash:26}],7:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=a("./../Utils/globals"),f=a("./../Interpolation/Linear"),g=a("./../Interpolation/Bezier"),h=a("./../Interpolation/Easing"),i=function(){function a(a){this.geometry=a.geometry,this.advanced=a.advanced,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered,this.minPolygons=2,this.geometry.shapeSidesCoefficient=1}return a.prototype.setShapeGeometry=function(){return this.geometry.polygons=this.normalizePolygons(),this.setGeometry()},a.prototype.resetShapeGeometry=function(){return this.setGeometry()},a.prototype.setGeometry=function(){var a=this.geometry;switch(a.reversePoints=this.getReversePoints(a.referencePoints),this.advanced.interpolation){case e.INTERPOLATION.noInterpolation:case e.INTERPOLATION.linear:a.points=d.HELPER.setPointsToBuffer(this.linearPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.bezier:a.points=d.HELPER.setPointsToBuffer(this.bezierPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.easing:a.points=d.HELPER.setPointsToBuffer(this.easingPoints(),e.SYSTEM_PARAMETERS.dimensions)}return this},a.prototype.normalizePolygons=function(){return this.contourPoints().length/2},a.prototype.getReversePoints=function(a){for(var b=[],c=this.style.lineWidth&&this.style.lineWidth>1?this.style.lineWidth:e.SYSTEM_PARAMETERS.lineWidth,d=[],f=a.length-1;f>=2;f-=2)d.push([a[f-1],a[f],a[f-3],a[f-2]]);var g=[];return d.forEach(function(a){var d,e,f,h;d=a[0]+c*(a[3]-a[1])/Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),e=a[1]-c*(a[2]-a[0])/Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),f=a[2]+c*(a[3]-a[1])/Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),h=a[3]-c*(a[2]-a[0])/Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(a[3]-a[1],2)),g.length>0&&d===g[0]&&e===g[1]?b.push(f,h):b.push(d,e,f,h),g=[f,h]}),b},a.prototype.referencePoints=function(){var a=this.geometry;if(a.referencePoints.length<4)throw new Error("Line shape should consists from at least two pairs of XY points");return a.referencePoints},a.prototype.contourPoints=function(){var a=this.referencePoints(),b=this.getReversePoints(a);return d.HELPER.flattenArray(b,a)},a.prototype.linearPoints=function(){for(var a,b,c=this.contourPoints(),e=[],g=[],h=this.geometry,i=h.polygons,j=new f["default"]([this]),k=0;k<c.length-2;k+=2)e.push(d.HELPER.getVectorLength(c[k],c[k+1],c[k+2],c[k+3]));a=e.reduce(function(a,b){return a+b},0);for(var k=0;k<e.length;k++)g.push(e[k]/a);return b=d.HELPER.splitPoints(g,i-1),j.getPointsOnVectors(c,b,!0,!1)},a.prototype.bezierPoints=function(){for(var a,b=this.geometry.referencePoints,c=[],e=[],f=0;f<b.length;f++)c.push(b[f]);for(var h=[],f=c.length-1;f>=0;f-=2)h.push(c[f-1]),h.push(c[f]);c=d.HELPER.flattenArray(h,c);for(var i=new g["default"]([this]),f=0;f<c.length-2;f+=2){var j=[c[f],c[f+1]],k=[c[f+2],c[f+3]];a=i.bezierInterpolation(j,k,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),e.push(a)}var l=[c[c.length-2],c[c.length-1]],m=[c[0],c[1]];return a=i.bezierInterpolation(l,m,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),e.push(a),d.HELPER.flattenArray(e)},a.prototype.easingPoints=function(){for(var a,b=this.geometry.referencePoints,c=[],e=[],f=0;f<b.length;f++)c.push(b[f]);for(var g=[],f=c.length-1;f>=0;f-=2)g.push(c[f-1]),g.push(c[f]);c=d.HELPER.flattenArray(g,c);for(var i=(this.geometry.polygons-c.length/2)/this.geometry.shapeSidesCoefficient,j=new h["default"]([this]),f=0;f<c.length-2;f+=2){var k=[c[f],c[f+1]],l=[c[f+2],c[f+3]];a=j.easingInterpolation(k,l,0,i,j[this.advanced.xEasing],j[this.advanced.yEasing]),e.push(a)}var m=[c[c.length-2],c[c.length-1]],n=[c[0],c[1]];return a=i>0?j.easingInterpolation(m,n,0,i,j[this.advanced.xEasing],j[this.advanced.yEasing]):c,e.push(a),d.HELPER.flattenArray(e)},a}();c["default"]=i},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../Utils/globals":22,"./../Utils/helper":23}],8:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=a("./../Utils/globals"),f=a("./../Interpolation/Linear"),g=a("./../Interpolation/Bezier"),h=a("./../Interpolation/Easing"),i=function(){function a(a){this.geometry=a.geometry,this.advanced=a.advanced,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered,this.minPolygons=2,this.geometry.shapeSidesCoefficient=1}return a.prototype.setShapeGeometry=function(){return this.geometry.polygons=this.normalizePolygons(),this.setGeometry()},a.prototype.resetShapeGeometry=function(){return this.setGeometry()},a.prototype.setGeometry=function(){var a=this.geometry;switch(this.advanced.interpolation){case e.INTERPOLATION.noInterpolation:case e.INTERPOLATION.linear:a.points=d.HELPER.setPointsToBuffer(this.linearPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.bezier:a.points=d.HELPER.setPointsToBuffer(this.bezierPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.easing:a.points=d.HELPER.setPointsToBuffer(this.easingPoints(),e.SYSTEM_PARAMETERS.dimensions)}return this},a.prototype.normalizePolygons=function(){return this.referencePoints().length/2},a.prototype.referencePoints=function(){var a=this.geometry;if(a.referencePoints.length/2<this.minPolygons)throw new Error("Rectangle shape should contain at least "+this.minPolygons+" reference points");return a.referencePoints},a.prototype.linearPoints=function(){for(var a,b,c=this.referencePoints(),e=[],g=[],h=this.geometry,i=h.polygons,j=new f["default"]([this]),k=0;k<c.length-2;k+=2)e.push(d.HELPER.getVectorLength(c[k],c[k+1],c[k+2],c[k+3]));e.push(d.HELPER.getVectorLength(c[c.length-2],c[c.length-1],c[0],c[1])),a=e.reduce(function(a,b){return a+b},0);for(var k=0;k<e.length;k++)g.push(e[k]/a);return b=d.HELPER.splitPoints(g,i),j.getPointsOnVectors(c,b)},a.prototype.bezierPoints=function(){for(var a,b,c,e=this.referencePoints(),f=[],h=this.geometry,i=(h.polygons,new g["default"]([this])),j=0;j<e.length-2;j+=2)b=[e[j],e[j+1]],c=[e[j+2],e[j+3]],a=i.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=i.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a),d.HELPER.flattenArray(f)},a.prototype.easingPoints=function(){for(var a,b,c,e=this.referencePoints(),f=[],g=this.geometry,i=(g.polygons,new h["default"]([this])),j=(this.geometry.polygons-e.length/2)/this.geometry.shapeSidesCoefficient,k=0;k<e.length-2;k+=2)b=[e[k],e[k+1]],c=[e[k+2],e[k+3]],a=i.easingInterpolation(b,c,0,j,i[this.advanced.xEasing],i[this.advanced.yEasing]),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=j>0?i.easingInterpolation(b,c,0,j,i[this.advanced.xEasing],i[this.advanced.yEasing]):e,f.push(a),d.HELPER.flattenArray(f)},a}();c["default"]=i},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../Utils/globals":22,"./../Utils/helper":23}],9:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=a("./../Utils/globals"),f=a("./../Interpolation/Linear"),g=a("./../Interpolation/Bezier"),h=a("./../Interpolation/Easing"),i=function(){function a(a){this.geometry=a.geometry,this.advanced=a.advanced,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered,this.minPolygons=4,this.geometry.shapeSidesCoefficient=1}return a.prototype.setShapeGeometry=function(){return this.geometry.polygons=this.normalizePolygons(),this.setGeometry()},a.prototype.resetShapeGeometry=function(){return this.setGeometry()},a.prototype.setGeometry=function(){var a=this.geometry;switch(this.advanced.interpolation){case e.INTERPOLATION.noInterpolation:case e.INTERPOLATION.linear:a.points=d.HELPER.setPointsToBuffer(this.linearPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.bezier:a.points=d.HELPER.setPointsToBuffer(this.bezierPoints(),e.SYSTEM_PARAMETERS.dimensions);break;case e.INTERPOLATION.easing:a.points=d.HELPER.setPointsToBuffer(this.easingPoints(),e.SYSTEM_PARAMETERS.dimensions)}return this},a.prototype.normalizePolygons=function(){return this.referencePoints().length/2},a.prototype.referencePoints=function(){var a=this.geometry;if(a.referencePoints){if(a.referencePoints.length/2<this.minPolygons)throw"Rectangle shape should contain at least "+this.minPolygons+" reference points";return a.referencePoints}return a.referencePoints=[a.x,a.y,a.x+a.width,a.y,a.x+a.width,a.y+a.height,a.x,a.y+a.height],a.referencePoints},a.prototype.linearPoints=function(){for(var a,b,c=this.referencePoints(),e=[],g=[],h=this.geometry,i=h.polygons,j=new f["default"]([this]),k=0;k<c.length-2;k+=2)e.push(d.HELPER.getVectorLength(c[k],c[k+1],c[k+2],c[k+3]));e.push(d.HELPER.getVectorLength(c[c.length-2],c[c.length-1],c[0],c[1])),a=e.reduce(function(a,b){return a+b},0);for(var k=0;k<e.length;k++)g.push(e[k]/a);return b=d.HELPER.splitPoints(g,i),j.getPointsOnVectors(c,b)},a.prototype.bezierPoints=function(){for(var a,b,c,e=this.referencePoints(),f=[],h=this.geometry,i=(h.polygons,new g["default"]([this])),j=0;j<e.length-2;j+=2)b=[e[j],e[j+1]],c=[e[j+2],e[j+3]],a=i.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=i.bezierInterpolation(b,c,this.advanced.interpolationPointsPerSegment,this.advanced.bezierTensionFactor),f.push(a),d.HELPER.flattenArray(f)},a.prototype.easingPoints=function(){for(var a,b,c,e=this.referencePoints(),f=[],g=this.geometry,i=(g.polygons,new h["default"]([this])),j=(this.geometry.polygons-e.length/2)/this.geometry.shapeSidesCoefficient,k=0;k<e.length-2;k+=2)b=[e[k],e[k+1]],c=[e[k+2],e[k+3]],a=i.easingInterpolation(b,c,0,j,i[this.advanced.xEasing],i[this.advanced.yEasing]),f.push(a);return b=[e[e.length-2],e[e.length-1]],c=[e[0],e[1]],a=j>0?i.easingInterpolation(b,c,0,j,i[this.advanced.xEasing],i[this.advanced.yEasing]):e,f.push(a),d.HELPER.flattenArray(f)},a}();c["default"]=i},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../Utils/globals":22,"./../Utils/helper":23}],10:[function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash"),f=a("./../Utils/globals"),g=a("./../Utils/helper"),h=a("./../ShapesConstructor/ShapesConstructor"),i=a("./Circle"),j=a("./Rectangle"),k=a("./Polygon"),l=a("./Line"),m=a("./BezierLine"),n=a("./Text"),o=a("./../Interpolation/Linear"),p=a("./../Interpolation/Easing"),q=a("./../Interpolation/Bezier"),r={frames:f.SYSTEM_PARAMETERS.frames,startFrame:f.SYSTEM_PARAMETERS.startFrame,bezierTensionFactor:f.SYSTEM_PARAMETERS.bezierTension,interpolationPointsPerSegment:f.SYSTEM_PARAMETERS.interpolationPointsPerSegment,isPolygonRender:f.SYSTEM_PARAMETERS.isPolygonRender,drawAsCanvasShape:f.SYSTEM_PARAMETERS.drawAsCanvasShape,polygonsPerShape:f.SYSTEM_PARAMETERS.polygonsPerShape,xEasing:f.INTERPOLATION.linearTween,yEasing:f.INTERPOLATION.linearTween,interpolationStep:f.INTERPOLATION_STEP.linear,interpolation:f.INTERPOLATION.noInterpolation},s=function(a){function b(){return a.call(this)||this}return d(b,a),b.prototype.initGeometry=function(a){var b=a.type.toUpperCase();a.advanced=a.advanced?g.HELPER.mergeOptions({},a.advanced,r):r,a.style=a.style||{};var c;switch(b){case f.SHAPES.circle.toUpperCase():c=new i["default"](a),c.setShapeGeometry();break;case f.SHAPES.rectangle.toUpperCase():c=new j["default"](a),c.setShapeGeometry();break;case f.SHAPES.polygon.toUpperCase():c=new k["default"](a),c.setShapeGeometry();break;case f.SHAPES.line.toUpperCase():c=new l["default"](a),c.setShapeGeometry();break;case f.SHAPES.bezierLine.toUpperCase():c=new m["default"](a),c.setShapeGeometry();break;case f.SHAPES.text.toUpperCase():c=new n["default"](a),c.setShapeGeometry()}return c},b.prototype.normalizePolygons=function(a,b){var c,d=a.geometry.polygons,e=b.geometry.polygons,h=a.geometry.shapeSidesCoefficient,i=b.geometry.shapeSidesCoefficient;return c=a.type===f.SHAPES.bezierLine||b.type===f.SHAPES.bezierLine?this.normalizeBezierPolygons(a,b):d===e?d:g.HELPER.commonMultiple(d,e,h,i)},b.prototype.normalizeBezierPolygons=function(a,b){var c=a.geometry.polygons,d=b.geometry.polygons,e=a.type===f.SHAPES.bezierLine?a.geometry.referencePoints.length-1:a.geometry.shapeSidesCoefficient,h=b.type===f.SHAPES.bezierLine?b.geometry.referencePoints.length-1:b.geometry.shapeSidesCoefficient,i=g.HELPER.commonMultiple(c,d,e,h);c=d=i,a.type===f.SHAPES.bezierLine.toUpperCase()&&(a.advanced.bezierSegmentsNumber=i/e-1),b.type===f.SHAPES.bezierLine.toUpperCase()&&(b.advanced.bezierSegmentsNumber=i/h-1)},b.prototype.convertToPolygon=function(a){var b,c=a.geometry.referencePoints;a.type===f.SHAPES.line.toUpperCase()&&(c=c.concat(a.geometry.reversePoints));var d={type:f.SHAPES.polygon.toUpperCase(),geometry:{referencePoints:c,polygons:a.geometry.polygons},advanced:e.clone(a.advanced),style:e.clone(a.style),isRendered:a.isRendered};return d.advanced.drawAsCanvasShape=!1,a.advanced.isPolygonRender||(d.style.isFill=a.type===(f.SHAPES.line.toUpperCase()||f.SHAPES.bezierLine.toUpperCase())?!0:d.style.isFill),b=new k["default"](d),b.resetShapeGeometry()},b.prototype.setShapeGeometry=function(){console.log("Method should be implemented in child classes")},b.prototype.resetShapesGeometry=function(a){for(var b=0;b<a.length;b++)a[b].resetShapeGeometry();return a},b.prototype.setShapeRenderState=function(a,b){a&&(a.isRendered=b)},b.prototype.setShapeRenderType=function(a,b){a&&a.advanced&&(a.advanced.isPolygonRender=b)},b.rearrangePoints=function(a,b){},b.prototype.transformShape=function(a,b,c){if(a.type===f.SHAPES.text.toUpperCase()||b.type===f.SHAPES.text.toUpperCase())throw new Error("Shape of type "+f.SHAPES.text.toUpperCase()+" cannot be used in transformations");var d,e,g=(c||a.advanced,c&&c.interpolation||a.advanced.interpolation),h=this.normalizePolygons(a,b);switch(a.geometry.polygons=h,b.geometry.polygons=h,this.resetShapesGeometry([a,b]),g){default:case f.INTERPOLATION.linear:d=new o["default"]([a,b]);break;case f.INTERPOLATION.easing:d=new p["default"]([a,b]);break;case f.INTERPOLATION.bezier:d=new q["default"]([a,b])}return e=this.convertToPolygon(a),{geometry:e,iterator:d.iterator(),frames:d.frames}},b.prototype.transformPreparedShape=function(a,b,c){var d,e,g=(c||a.advanced,c&&c.interpolation||a.advanced.interpolation);switch(g){default:case f.INTERPOLATION.linear:d=new o["default"]([a,b]);break;case f.INTERPOLATION.easing:d=new p["default"]([a,b]);break;case f.INTERPOLATION.bezier:d=new q["default"]([a,b])}return e=this.convertToPolygon(a),{geometry:e,iterator:d.iterator(),frames:d.frames,colors:{start:a.style.color||f.SYSTEM_PARAMETERS.baseShapeColor,end:b.style.color||f.SYSTEM_PARAMETERS.baseShapeColor}}},b}(h["default"]);c["default"]=s},{"./../Interpolation/Bezier":12,"./../Interpolation/Easing":13,"./../Interpolation/Linear":15,"./../ShapesConstructor/ShapesConstructor":20,"./../Utils/globals":22,"./../Utils/helper":23,"./BezierLine":4,"./Circle":5,
"./Line":7,"./Polygon":8,"./Rectangle":9,"./Text":11,lodash:26}],11:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(){function a(a){this.geometry=a.geometry,this.type=a.type,this.style=a.style,this.isRendered=a.isRendered}return a.prototype.setShapeGeometry=function(){return this},a.prototype.resetShapeGeometry=function(){return this},a}();c["default"]=d},{}],12:[function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Interpolation"),f=a("./../Utils/globals"),g=function(a){function b(b){var c=a.call(this,b)||this;return c.frames=b[0].advanced.frames,c.tensionFactor=b[0].advanced.bezierTensionFactor,c}return d(b,a),b.prototype.iterator=function(){for(var a=this.startShape.geometry.points,b=(this.endShape.geometry.points,[]),c=this.getLinearParameters(),d=[],e=[],f=0;f<a.length;f+=2){var g=c[f].startVector,h=c[f].endVector;e=this.bezierInterpolation(g,h,this.frames),d.push(e)}for(var f=0;f<d[0].length;f+=2){for(var i=[],j=0;j<d.length;j++)i.push(d[j][f]),i.push(d[j][f+1]);b.push(i)}return b[Symbol.iterator]()},b.prototype.bezierInterpolation=function(a,b,c,d){var e=[a[0],a[1],b[0],b[1]],g=d?d:this.tensionFactor?this.tensionFactor:f.SYSTEM_PARAMETERS.bezierTension;return this.cardinalSplines(e,g,!1,c)},b.prototype.cardinalSplines=function(a,b,c,d){for(var e,g,h,i,j,k,l,m,n,o,p,q=b,r=c||!1,s=d||f.SYSTEM_PARAMETERS.bezierSegmentsNumber,t=[],u=[],v=0;v<a.length;v++)t[v]=a[v];r?(t.unshift(a[a.length-1]),t.unshift(a[a.length-2]),t.unshift(a[a.length-1]),t.unshift(a[a.length-2]),t.push(a[0]),t.push(a[1])):(t.unshift(a[1]),t.unshift(a[0]),t.push(a[a.length-2]),t.push(a[a.length-1]));for(var w=2;w<t.length-4;w+=2)for(var x=0;s>=x;x++)h=(t[w+2]-t[w-2])*q,i=(t[w+4]-t[w])*q,j=(t[w+3]-t[w-1])*q,k=(t[w+5]-t[w+1])*q,p=x/s,l=2*Math.pow(p,3)-3*Math.pow(p,2)+1,m=-(2*Math.pow(p,3))+3*Math.pow(p,2),n=Math.pow(p,3)-2*Math.pow(p,2)+p,o=Math.pow(p,3)-Math.pow(p,2),e=l*t[w]+m*t[w+2]+n*h+o*i,g=l*t[w+1]+m*t[w+3]+n*j+o*k,u.push(e),u.push(g);return u},b}(e["default"]);c["default"]=g},{"./../Utils/globals":22,"./Interpolation":14}],13:[function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Interpolation"),f=a("./../Utils/globals"),g=function(a){function b(b){var c=a.call(this,b)||this;return c.xEasing=b[0].advanced.xEasing,c.yEasing=b[0].advanced.yEasing,c.startFrame=b[0].advanced.startFrame,c.frames=b[0].advanced.frames,c.interpolationStep=b[0].advanced.interpolationStep,c}return d(b,a),b.prototype.iterator=function(){for(var a=this.startShape.geometry.points,b=(this.endShape.geometry.points,[]),c=this.getLinearParameters(),d=[],e=[],f=0;f<a.length;f+=2){var g=c[f].startVector,h=c[f].endVector;e=this.easingInterpolation(g,h,this.startFrame,this.frames,this[this.xEasing],this[this.yEasing]),d.push(e)}for(var f=0;f<d[0].length;f+=2){for(var i=[],j=0;j<d.length;j++)i.push(d[j][f]),i.push(d[j][f+1]);b.push(i)}return b[Symbol.iterator]()},b.prototype.easingInterpolation=function(a,b,c,d,e,g){var h,i,j=[];this.interpolationStep===f.INTERPOLATION_STEP.linear&&(h=this.coordinateLinearEasing(a[0],b[0],c,d,e),i=this.coordinateLinearEasing(a[1],b[1],c,d,g)),this.interpolationStep===f.INTERPOLATION_STEP.time&&(h=this.coordinateTimeEasing(a[0],b[0],c,d,e),i=this.coordinateTimeEasing(a[1],b[1],c,d,g));for(var k=0;k<h.length;k++)j.push(h[k]),j.push(i[k]);return j},b.prototype.coordinateLinearEasing=function(a,b,c,d,e){for(var f,g=[],h=c,i=a,j=b-a,k=d;k>=h;)f=e(h,i,j,k),h++,g.push(f);return g},b.prototype.coordinateTimeEasing=function(a,b,c,d,e){var f=[],g=c,h=a,i=b-a,j=d;return f.push(e(g,h,i,j)),f},b.prototype.linearTween=function(a,b,c,d){return c*(a/d)+b},b.prototype.easeInQuad=function(a,b,c,d){return a/=d,c*a*a+b},b.prototype.easeOutQuad=function(a,b,c,d){return a/=d,-c*a*(a-2)+b},b.prototype.easeInOutQuad=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},b.prototype.easeInCubic=function(a,b,c,d){return a/=d,c*a*a*a+b},b.prototype.easeOutCubic=function(a,b,c,d){return a/=d,a--,c*(a*a*a+1)+b},b.prototype.easeInOutCubic=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)},b.prototype.easeInQuart=function(a,b,c,d){return a/=d,c*a*a*a*a+b},b.prototype.easeOutQuart=function(a,b,c,d){return a/=d,a--,-c*(a*a*a*a-1)+b},b.prototype.easeInOutQuart=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a+b:(a-=2,-c/2*(a*a*a*a-2)+b)},b.prototype.easeInQuint=function(a,b,c,d){return a/=d,c*a*a*a*a*a+b},b.prototype.easeOutQuint=function(a,b,c,d){return a/=d,a--,c*(a*a*a*a*a+1)+b},b.prototype.easeInOutQuint=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a*a+b:(a-=2,c/2*(a*a*a*a*a+2)+b)},b.prototype.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},b.prototype.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},b.prototype.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},b.prototype.easeInExpo=function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},b.prototype.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},b.prototype.easeInOutExpo=function(a,b,c,d){return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b)},b.prototype.easeInCirc=function(a,b,c,d){return a/=d,-c*(Math.sqrt(1-a*a)-1)+b},b.prototype.easeOutCirc=function(a,b,c,d){return a/=d,a--,c*Math.sqrt(1-a*a)+b},b.prototype.easeInOutCirc=function(a,b,c,d){return a/=d/2,1>a?-c/2*(Math.sqrt(1-a*a)-1)+b:(a-=2,c/2*(Math.sqrt(1-a*a)+1)+b)},b}(e["default"]);c["default"]=g},{"./../Utils/globals":22,"./Interpolation":14}],14:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=function(){function a(a){this.startShape=a[0],a[1]&&(this.endShape=a[1])}return a.prototype.iterator=function(){var a=[this.startShape.geometry.points,this.endShape.geometry.points];return a[Symbol.iterator]()},a.prototype.getLinearParameters=function(){for(var a=this.startShape.geometry.points,b=this.endShape.geometry.points,c=[],e=0;e<a.length;e++)if(e%2===0){var f=d.HELPER.getVectorLength(a[e],a[e+1],b[e],b[e+1]),g=d.HELPER.getLinearDistance(a[e],b[e]),h=d.HELPER.getLinearDistance(a[e+1],b[e+1]),i=Math.atan(h/g),j=[a[e],a[e+1]],k=[b[e],b[e+1]];c.push({distance:f,width:g,height:h,angle:i,startVector:j,endVector:k})}else{var f=d.HELPER.getVectorLength(a[e-1],a[e],b[e-1],b[e]),g=d.HELPER.getLinearDistance(a[e-1],b[e-1]),h=d.HELPER.getLinearDistance(a[e],b[e]),i=Math.atan(h/g),j=[a[e-1],a[e]],k=[b[e-1],b[e]];c.push({distance:f,width:g,height:h,angle:i,startVector:j,endVector:k})}return c},a}();c["default"]=e},{"./../Utils/helper":23}],15:[function(a,b,c){"use strict";var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Interpolation"),f=a("./../Utils/helper"),g=function(a){function b(b){var c=a.call(this,b)||this;return c.frames=b[0].advanced.frames,c}return d(b,a),b.prototype.iterator=function(){var a,b=this.startShape.geometry.points,c=this.endShape.geometry.points,d=[],e=this.getLinearParameters(),g=f.HELPER.getVectorsDeltas(b,c),h=!1,i=0,j=0;if(b.length!==c.length)throw new Error("Amount of start and end points should be equal.");for(;!h;){for(var k=[],l=0;l<b.length;l+=2){var m=e[l].startVector,n=e[l].endVector,o=this.getPointOnVector(m,n,j,this.frames);k.push(o[0]),k.push(o[1])}j++,d.push(k),b.set(k),a=f.HELPER.getVectorsDeltas(b,c),h=f.HELPER.isEqualArrays(g,a),g=a,i++}return f.HELPER.fitToEqual(d[d.length-1],c),d[Symbol.iterator]()},b.prototype.getPointOnVector=function(a,b,c,d){var e=f.HELPER.getVectorLength(a[0],a[1],b[0],b[1]),g=e/(d+1),h=e>0?g*c/e:e,i=f.HELPER.getVectorDiff(b,a),j=f.HELPER.vecConstMultiply(i,h);return f.HELPER.vecSum(j,a)},b.prototype.getPointsOnVector=function(a,b,c){for(var d=[],e=0;c>e;e++)d.push(this.getPointOnVector(a,b,e+1,c));return f.HELPER.flattenArray(d)},b.prototype.getPointsOnVectors=function(a,b,c,d){for(var e,g,h="undefined"==typeof c?!0:c,i=[],j=a,k="undefined"==typeof d?!0:d,l=0,m=0;l<j.length-2;l+=2,m++)e=[j[l],j[l+1]],g=[j[l+2],j[l+3]],h?(i.push(j[l]),i.push(j[l+1]),i.push(this.getPointsOnVector(e,g,b[m]-1))):i.push(this.getPointsOnVector(e,g,b[m]));return i.push(j[j.length-2]),i.push(j[j.length-1]),e=[j[j.length-2],j[j.length-1]],g=[j[0],j[1]],!f.HELPER.isEqualVectors(e,g)&&k&&(h?i.push(this.getPointsOnVector(e,g,b[b.length-1]-1)):i.push(this.getPointsOnVector(e,g,b[b.length-1]))),f.HELPER.flattenArray(i)},b}(e["default"]);c["default"]=g},{"./../Utils/helper":23,"./Interpolation":14}],16:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=b[Symbol.iterator](),e=0,f=d.next().value,g=d.next().value;for(a.moveTo(f,g);e<b.length/2;)a.lineTo(d.next().value,d.next().value),e++;c&&a.lineTo(f,g)}},{}],17:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){for(var f=e||"center",g=b[Symbol.iterator](),h=0;h<b.length/2;)switch(f){case"center":var i=g.next().value-c/2,j=g.next().value-d/2;h++,a.lineWidth=1,a.rect(i,j,c,d)}}},{}],18:[function(a,b,c){"use strict";b.exports=function(a,b,c){c.font&&(a.font=b.font),c.fillStyle&&(a.fillStyle=b.fillStyle),a.fillText(b.text,b.x,b.y)}},{}],19:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/globals"),e=a("./Shapes/rectangle"),f=a("./Shapes/line"),g=a("./Shapes/text"),h=function(){function a(a){this.context=a}return a.prototype.render=function(a){if(this.context.beginPath(),a.type.toUpperCase()===d.SHAPES.text.toUpperCase())this.style(a),g(this.context,a.geometry,this.style);else if(a.advanced.isPolygonRender)e(this.context,a.geometry.points,d.SYSTEM_PARAMETERS.renderPolygonWidth,d.SYSTEM_PARAMETERS.renderPolygonHeight),this.style(a);else{var b=a.type!==(d.SHAPES.line.toUpperCase()||d.SHAPES.bezierLine.toUpperCase());f(this.context,a.geometry.points,b),this.style(a)}},a.prototype.style=function(a){a.style?(a.style.color&&(this.context.fillStyle=a.style.color,this.context.strokeStyle=a.style.color),a.style.lineWidth&&(this.context.lineWidth=a.style.lineWidth),a.style.font&&(this.context.font=a.style.font),a.style.fillStyle&&(this.context.fillStyle=a.style.fillStyle),a.style.isFill&&this.context.fill(),(a.style.isStroke||!a.style.isFill||a.type===d.SHAPES.line||a.type===d.SHAPES.bezierLine)&&this.context.stroke()):(this.context.fillStyle=d.SYSTEM_PARAMETERS.baseShapeColor,this.context.stroke())},a}();c["default"]=h},{"./../Utils/globals":22,"./Shapes/line":16,"./Shapes/rectangle":17,"./Shapes/text":18}],20:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f={};return f.type=i.SHAPES.rectangle.toUpperCase(),f.geometry={x:a,y:b,width:c,height:d},f.isRendered=!1,f.geometry.polygons=e,f}function e(a,b,c,d,e){var f={};return f.type=i.SHAPES.circle.toUpperCase(),f.geometry={startAngle:d,r:c,x:a,y:b},f.isRendered=!1,f.geometry.polygons=e,f}function f(a,b,c){var d={};return d.type=i.SHAPES.text.toUpperCase(),d.geometry={text:a,x:b,y:c},d.isRendered=!1,d}function g(a,b){if("string"==typeof a){if(!b.points||0===b.points.length)throw new Error("Points should be defined for polygon shape");var c={},d=j.HELPER.removeDuplicatePairs(b.points);return c.type=a.toUpperCase(),c.geometry={referencePoints:d,polygons:d.length/2},c.isRendered=!1,c}if(!a.type||!a.subtype||!b)throw new Error("Predefined polygon type, subtype and options should be defined");var c={};switch(c.type=a.type.toUpperCase(),a.subtype.toUpperCase()){case i.POLYGON_SHAPES.star.toUpperCase():var e=h(b.x,b.y,b.spikes,b.outerRadius,b.innerRadius);c.geometry={referencePoints:e,polygons:e.length/2}}return c.isRendered=!1,c}function h(a,b,c,d,e){for(var f=[],g=Math.PI/2*3,h=a,i=b,j=Math.PI/c,k=0;c>k;k++)h=a+Math.cos(g)*d,i=b+Math.sin(g)*d,f.push(h),f.push(i),g+=j,h=a+Math.cos(g)*e,i=b+Math.sin(g)*e,f.push(h),f.push(i),g+=j;return f}Object.defineProperty(c,"__esModule",{value:!0});var i=a("./../Utils/globals"),j=a("./../Utils/helper"),k=function(){function a(){}return a.prototype.defineShape=function(a,b){if(!b)throw"Options for "+a+" should be defined";var c,h,k,l="string"==typeof a?a.toUpperCase():a.type.toUpperCase(),m=i.SYSTEM_PARAMETERS.drawAsCanvasShape;switch(b.advanced&&b.advanced.hasOwnProperty("drawAsCanvasShape")&&(m=b.advanced.drawAsCanvasShape),l){default:throw"Undefined shape type";case i.SHAPES.rectangle.toUpperCase():m?(h=b.polygons||i.SYSTEM_PARAMETERS.polygonsPerShape,c=d(b.x,b.y,b.width,b.height,h)):c=g(l,b);break;case i.SHAPES.circle.toUpperCase():m?(h=b.polygons||i.SYSTEM_PARAMETERS.polygonsPerShape,k=b.startAngle||i.SYSTEM_PARAMETERS.circleStartAngle,c=e(b.x,b.y,b.r,k,h)):c=g(l,b);break;case i.SHAPES.line.toUpperCase():case i.SHAPES.bezierLine.toUpperCase():case i.SHAPES.polygon.toUpperCase():c="string"==typeof a?g(l,b):g(a,b);break;case i.SHAPES.text.toUpperCase():c=f(b.text,b.x,b.y)}return b.style&&j.HELPER.setOptions(c,b.style,"style"),b.advanced&&j.HELPER.setOptions(c,b.advanced,"advanced"),c},a}();c["default"]=k},{"./../Utils/globals":22,"./../Utils/helper":23}],21:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./../Utils/helper"),e=function(){function a(){this.shapes=new Map,this.transformationData=new Map}return a.prototype.setShape=function(a){this.setShapeId(a),a.children&&a.children.forEach(function(b){b.id=b.id.split(":")[0]+":"+a.id}),this.shapes.set(a.id,a)},a.prototype.getShape=function(a){return this.shapes.get(a)},a.prototype.getShapes=function(){return this.shapes},a.prototype.getCompositeShape=function(a){var b=[];return this.shapes.forEach(function(c){c.compositeId&&c.compositeId===a&&b.push(c)}),b},a.prototype.resetShape=function(a,b){this.shapes.set(a,b)},a.prototype.deleteShape=function(a){this.shapes["delete"](a)},a.prototype.setTransformationData=function(a,b){this.transformationData.set(a,b)},a.prototype.deleteTransformationData=function(a){this.transformationData["delete"](a)},a.prototype.getTransformationData=function(){return this.transformationData},a.prototype.setShapeId=function(a){a.id=a.type+"_"+d.HELPER.generateUID()},a.prototype.clearShapes=function(){this.shapes.clear()},a}();c["default"]=e},{"./../Utils/helper":23}],22:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={polygonsPerShape:50,dimensions:2,startFrame:0,frames:80,interpolationPointsPerSegment:10,isPolygonRender:!1,drawAsCanvasShape:!0,bezierSegmentsNumber:16,bezierTension:.5,renderPolygonWidth:4,renderPolygonHeight:4,baseShapeColor:"#000000",circleMinStep:5,circleStartAngle:215,lineWidth:2};c.SYSTEM_PARAMETERS=d;var e={circle:"circle",rectangle:"rectangle",line:"line",polygon:"polygon",bezierLine:"bezierLine",composite:"composite",text:"text"};c.SHAPES=e;var f={star:"star"};c.POLYGON_SHAPES=f;var g={polygon:"polygon",line:"line"};c.RENDER_SHAPES=g;var h={noInterpolation:"noInterpolation",linear:"linear",easing:"easing",linearTween:"linearTween",quadraticEasingIn:"easeInQuad",quadraticEasingOut:"easeOutQuad",quadraticEasingInOut:"easeInOutQuad",cubicEasingIn:"easeInCubic",cubicEasingOut:"easeOutCubic",cubicEasingInOut:"easeInOutCubic",quarticEasingIn:"easeInQuart",quarticEasingOut:"easeOutQuart",quarticEasingInOut:"easeInOutQuart",quinticEasingIn:"easeInQuint",quinticEasingOut:"easeOutQuint",quinticEasingInOut:"easeInOutQuint",sinusoidalEasingIn:"easeInSine",sinusoidalEasingOut:"easeOutSine",sinusoidalEasingInOut:"easeInOutSine",exponentialEasingIn:"easeInExpo",exponentialEasingOut:"easeOutExpo",exponentialEasingInOut:"easeInOutExpo",circularEasingIn:"easeInCirc",circularEasingOut:"easeOutCirc",circularEasingInOut:"easeInOutCirc",bezier:"bezier"};c.INTERPOLATION=h;var i={linear:"linear",time:"time"};c.INTERPOLATION_STEP=i;var j={onAnimationStart:"onAnimationStart",onAnimationStop:"onAnimationStop"};c.EVENTS=j},{}],23:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("lodash"),e={toRadians:function(a){return a*Math.PI/180},getVectorsDeltas:function(a,b){for(var c=[],d=0,f=a[Symbol.iterator](),g=b[Symbol.iterator]();a.length>d;){var h=f.next().value,i=f.next().value,j=g.next().value,k=g.next().value;c.push(e.getVectorLength(h,i,j,k)),d+=4}return c},isEqualArrays:function(a,b){for(var c=!1,d=0;d<a.length;d++)c=Math.floor(b[d])>Math.floor(a[d])||0===Math.floor(a[d])||0===Math.floor(b[d]);return c},fitToEqual:function(a,b){for(var c=a[Symbol.iterator](),d=b[Symbol.iterator](),e=0;a.length>e;){var f=c.next().value,g=d.next().value;f>g&&(a[e]=g),e++}},getLinearDistance:function(a,b){return Math.abs(a-b)},getVectorLength:function(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))},getVectorDiff:function(a,b){return[a[0]-b[0],a[1]-b[1]]},vecDiffAbs:function(a,b){return[Math.abs(a[0]-b[0]),Math.abs(a[1]-b[1])]},vecSum:function(a,b){return[a[0]+b[0],a[1]+b[1]]},vecConstMultiply:function(a,b){return[a[0]*b,a[1]*b]},isEqualVectors:function(a,b){return a[0]===b[0]&&a[1]===b[1]},splitPoints:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=Math.ceil(b*a[d]);c.push(e)}for(var f=c.reduce(function(a,b){return a+b},0),g=f-b;0!==g;){var h=c.reduce(function(a,b,c,d){return b>d[a]?c:a},0);g>0?c[h]-=1:c[h]+=1,f=c.reduce(function(a,b){return a+b},0),g=f-b}return c},pointsInShape:function(a,b){var c=~~(a/b);return c*b},commonMultiple:function(a,b,c,d){var f=c||1,g=d||1,h=Math.max(a,b);return h%f===0&&h%g===0?h:(h++,e.commonMultiple(h,h,f,g))},hasValue:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return b;return null},flattenArray:function(a,b){var c=b||[];return[].concat.apply(c,a)},splitArray:function(a,b){var c=[],e=d.clone(a);return b.forEach(function(a,b){for(var d=[],f=0;a>f;f++)d.push(e[0]),e.shift();c.push(d)}),c},mergeOptions:function(a,b,c,d){var f=void 0===d||d===!0;return f&&!b?c:f||c?(f?(e.setOptions(a,b),Object.keys(c).forEach(function(d){b.hasOwnProperty(d)||e.setOption(a,d,c[d])})):(e.setOptions(a,c),Object.keys(b).forEach(function(d){c.hasOwnProperty(d)||e.setOption(a,d,b[d])})),a):b},setOptions:function(a,b,c){Object.keys(b).forEach(function(d){c?e.setOption(a,d,b[d],c):e.setOption(a,d,b[d])})},setOption:function(a,b,c,d){d?(a[d]||(a[d]={}),a[d][b]=c):a[b]=c},setPointsToBuffer:function(a,b){var c=a.length/2,d=new ArrayBuffer(4*c*b),e=new Float32Array(d);return e.set(a),e},setArraysToBuffer:function(a,b){return a.map(function(a){return this.setPointsToBuffer(a,b)})},generateUID:function(){var a=46656*Math.random()|0,b=46656*Math.random()|0,c=("000"+a.toString(36)).slice(-3),d=("000"+b.toString(36)).slice(-3);return c+d},removeDuplicatePairs:function(a){for(var b=[],c=0;c<a.length-2;c+=2){var e=[a[c],[a[c+1]]],f=[a[c+2],[a[c+3]]];d.isEqual(e,f)||(b.push(a[c]),b.push(a[c+1]))}var g=[a[0],a[1]],h=[a[a.length-2],a[a.length-1]];return d.isEqual(g,h)||(b.push(a[a.length-2]),b.push(a[a.length-1])),b}};c.HELPER=e},{lodash:26}],24:[function(a,b,c){(function(){var a,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da=[].slice;ya=function(){var a,b,c,d,e;for(a={},e="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),d=0,b=e.length;b>d;d++)c=e[d],a["[object "+c+"]"]=c.toLowerCase();return function(b){var c;return c=Object.prototype.toString.call(b),a[c]||"object"}}(),V=function(a,b,c){return null==b&&(b=0),null==c&&(c=1),b>a&&(a=b),a>c&&(a=c),a},za=function(a){return a.length>=3?[].slice.call(a):a[0]},v=function(a){var b,c;for(a._clipped=!1,a._unclipped=a.slice(0),b=c=0;3>c;b=++c)3>b?((a[b]<0||a[b]>255)&&(a._clipped=!0),a[b]<0&&(a[b]=0),a[b]>255&&(a[b]=255)):3===b&&(a[b]<0&&(a[b]=0),a[b]>1&&(a[b]=1));return a._clipped||delete a._unclipped,a},f=Math.PI,ta=Math.round,y=Math.cos,D=Math.floor,ca=Math.pow,W=Math.log,va=Math.sin,wa=Math.sqrt,o=Math.atan2,Z=Math.max,n=Math.abs,i=2*f,g=f/3,d=f/180,h=180/f,u=function(){return arguments[0]instanceof a?arguments[0]:function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,arguments,function(){})},m=[],"undefined"!=typeof b&&null!==b&&null!=b.exports&&(b.exports=u),"function"==typeof define&&define.amd?define([],function(){return u}):(sa="undefined"!=typeof c&&null!==c?c:this,sa.chroma=u),u.version="1.3.4",l={},j=[],k=!1,a=function(){function a(){var a,b,c,d,e,f,g,h,i;for(f=this,b=[],h=0,d=arguments.length;d>h;h++)a=arguments[h],null!=a&&b.push(a);if(g=b[b.length-1],null!=l[g])f._rgb=v(l[g](za(b.slice(0,-1))));else{for(k||(j=j.sort(function(a,b){return b.p-a.p}),k=!0),i=0,e=j.length;e>i&&(c=j[i],!(g=c.test.apply(c,b)));i++);g&&(f._rgb=v(l[g].apply(l,b)))}null==f._rgb&&console.warn("unknown format: "+b),null==f._rgb&&(f._rgb=[0,0,0]),3===f._rgb.length&&f._rgb.push(1)}return a.prototype.toString=function(){return this.hex()},a.prototype.clone=function(){return u(me._rgb)},a}(),u._input=l,u.brewer=s={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var a,b;b=[];for(a in s)b.push(s[a.toLowerCase()]=s[a]);return b}(),Aa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u.colors=x=Aa,Q=function(){var a,b,c,d,f,g,h,i,j;return b=za(arguments),f=b[0],a=b[1],c=b[2],i=(f+16)/116,h=isNaN(a)?i:i+a/500,j=isNaN(c)?i:i-c/200,i=e.Yn*R(i),h=e.Xn*R(h),j=e.Zn*R(j),g=Ca(3.2404542*h-1.5371385*i-.4985314*j),d=Ca(-.969266*h+1.8760108*i+.041556*j),c=Ca(.0556434*h-.2040259*i+1.0572252*j),[g,d,c,b.length>3?b[3]:1]},Ca=function(a){return 255*(.00304>=a?12.92*a:1.055*ca(a,1/2.4)-.055)},R=function(a){return a>e.t1?a*a*a:e.t2*(a-e.t0)},e={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ka=function(){var a,b,c,d,e,f,g,h;return d=za(arguments),c=d[0],b=d[1],a=d[2],e=pa(c,b,a),f=e[0],g=e[1],h=e[2],[116*g-16,500*(f-g),200*(g-h)]},qa=function(a){return(a/=255)<=.04045?a/12.92:ca((a+.055)/1.055,2.4)},Ba=function(a){return a>e.t3?ca(a,1/3):a/e.t2+e.t0},pa=function(){var a,b,c,d,f,g,h;return d=za(arguments),c=d[0],b=d[1],a=d[2],c=qa(c),b=qa(b),a=qa(a),f=Ba((.4124564*c+.3575761*b+.1804375*a)/e.Xn),g=Ba((.2126729*c+.7151522*b+.072175*a)/e.Yn),h=Ba((.0193339*c+.119192*b+.9503041*a)/e.Zn),[f,g,h]},u.lab=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["lab"]),function(){})},l.lab=Q,a.prototype.lab=function(){return ka(this._rgb)},p=function(a){var b,c,d,e,f,g,h,i,j,k,l;return a=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(u(e));return d}(),2===a.length?(j=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=j[0],g=j[1],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push(f[b]+a*(g[b]-f[b]));return d}(),u.lab.apply(u,c)}):3===a.length?(k=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=k[0],g=k[1],h=k[2],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push((1-a)*(1-a)*f[b]+2*(1-a)*a*g[b]+a*a*h[b]);return d}(),u.lab.apply(u,c)}):4===a.length?(l=function(){var b,c,d;for(d=[],c=0,b=a.length;b>c;c++)e=a[c],d.push(e.lab());return d}(),f=l[0],g=l[1],h=l[2],i=l[3],b=function(a){var b,c;return c=function(){var c,d;for(d=[],b=c=0;2>=c;b=++c)d.push((1-a)*(1-a)*(1-a)*f[b]+3*(1-a)*(1-a)*a*g[b]+3*(1-a)*a*a*h[b]+a*a*a*i[b]);return d}(),u.lab.apply(u,c)}):5===a.length&&(c=p(a.slice(0,3)),d=p(a.slice(2,5)),b=function(a){return.5>a?c(2*a):d(2*(a-.5))}),b},u.bezier=function(a){var b;return b=p(a),b.scale=function(){return u.scale(b)},b},u.cubehelix=function(a,b,c,d,e){var f,g,h;return null==a&&(a=300),null==b&&(b=-1.5),null==c&&(c=1),null==d&&(d=1),null==e&&(e=[0,1]),f=0,"array"===ya(e)?g=e[1]-e[0]:(g=0,e=[e,e]),h=function(h){var j,k,l,m,n,o,p,q,r;return j=i*((a+120)/360+b*h),p=ca(e[0]+g*h,d),o=0!==f?c[0]+h*f:c,k=o*p*(1-p)/2,m=y(j),r=va(j),q=p+k*(-.14861*m+1.78277*r),n=p+k*(-.29227*m-.90649*r),l=p+1.97294*k*m,u(v([255*q,255*n,255*l]))},h.start=function(b){return null==b?a:(a=b,h)},h.rotations=function(a){return null==a?b:(b=a,h)},h.gamma=function(a){return null==a?d:(d=a,h)},h.hue=function(a){return null==a?c:(c=a,"array"===ya(c)?(f=c[1]-c[0],0===f&&(c=c[1])):f=0,h)},h.lightness=function(a){return null==a?e:("array"===ya(a)?(e=a,g=a[1]-a[0]):(e=[a,a],g=0),h)},h.scale=function(){return u.scale(h)},h.hue(c),h},u.random=function(){var b,c,d,e;for(c="0123456789abcdef",b="#",d=e=0;6>e;d=++e)b+=c.charAt(D(16*Math.random()));return new a(b)},u.average=function(a,b){var c,d,e,g,h,i,j,k,l,m,n,p,q;
null==b&&(b="rgb"),l=a.length,a=a.map(function(a){return u(a)}),j=a.splice(0,1)[0],p=j.get(b),g=[],h=0,i=0;for(k in p)p[k]=p[k]||0,g.push(isNaN(p[k])?0:1),"h"!==b.charAt(k)||isNaN(p[k])||(c=p[k]/180*f,h+=y(c),i+=va(c));for(d=j.alpha(),n=0,m=a.length;m>n;n++){e=a[n],q=e.get(b),d+=e.alpha();for(k in p)isNaN(q[k])||(p[k]+=q[k],g[k]+=1,"h"===b.charAt(k)&&(c=p[k]/180*f,h+=y(c),i+=va(c)))}for(k in p)if(p[k]=p[k]/g[k],"h"===b.charAt(k)){for(c=o(i/g[k],h/g[k])/f*180;0>c;)c+=360;for(;c>=360;)c-=360;p[k]=c}return u(p,b).alpha(d/l)},l.rgb=function(){var a,b,c,d;b=za(arguments),c=[];for(a in b)d=b[a],c.push(d);return c},u.rgb=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["rgb"]),function(){})},a.prototype.rgb=function(a){return null==a&&(a=!0),a?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},a.prototype.rgba=function(a){return null==a&&(a=!0),a?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},j.push({p:3,test:function(a){var b;return b=za(arguments),"array"===ya(b)&&3===b.length?"rgb":4===b.length&&"number"===ya(b[3])&&b[3]>=0&&b[3]<=1?"rgb":void 0}}),F=function(a){var b,c,d,e,f,g;if(a.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===a.length||7===a.length)&&(a=a.substr(1)),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),g=parseInt(a,16),e=g>>16,d=g>>8&255,c=255&g,[e,d,c,1];if(a.match(/^#?([A-Fa-f0-9]{8})$/))return 9===a.length&&(a=a.substr(1)),g=parseInt(a,16),e=g>>24&255,d=g>>16&255,c=g>>8&255,b=ta((255&g)/255*100)/100,[e,d,c,b];if(null!=l.css&&(f=l.css(a)))return f;throw"unknown color: "+a},ga=function(a,b){var c,d,e,f,g,h,i;return null==b&&(b="rgb"),g=a[0],e=a[1],d=a[2],c=a[3],g=Math.round(g),e=Math.round(e),d=Math.round(d),i=g<<16|e<<8|d,h="000000"+i.toString(16),h=h.substr(h.length-6),f="0"+ta(255*c).toString(16),f=f.substr(f.length-2),"#"+function(){switch(b.toLowerCase()){case"rgba":return h+f;case"argb":return f+h;default:return h}}()},l.hex=function(a){return F(a)},u.hex=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["hex"]),function(){})},a.prototype.hex=function(a){return null==a&&(a="rgb"),ga(this._rgb,a)},j.push({p:4,test:function(a){return 1===arguments.length&&"string"===ya(a)?"hex":void 0}}),I=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;if(a=za(arguments),e=a[0],k=a[1],g=a[2],0===k)i=d=b=255*g;else{for(n=[0,0,0],c=[0,0,0],m=.5>g?g*(1+k):g+k-g*k,l=2*g-m,e/=360,n[0]=e+1/3,n[1]=e,n[2]=e-1/3,f=h=0;2>=h;f=++h)n[f]<0&&(n[f]+=1),n[f]>1&&(n[f]-=1),6*n[f]<1?c[f]=l+6*(m-l)*n[f]:2*n[f]<1?c[f]=m:3*n[f]<2?c[f]=l+(m-l)*(2/3-n[f])*6:c[f]=l;j=[ta(255*c[0]),ta(255*c[1]),ta(255*c[2])],i=j[0],d=j[1],b=j[2]}return a.length>3?[i,d,b,a[3]]:[i,d,b]},ia=function(a,b,c){var d,e,f,g,h;return void 0!==a&&a.length>=3&&(g=a,a=g[0],b=g[1],c=g[2]),a/=255,b/=255,c/=255,f=Math.min(a,b,c),Z=Math.max(a,b,c),e=(Z+f)/2,Z===f?(h=0,d=Number.NaN):h=.5>e?(Z-f)/(Z+f):(Z-f)/(2-Z-f),a===Z?d=(b-c)/(Z-f):b===Z?d=2+(c-a)/(Z-f):c===Z&&(d=4+(a-b)/(Z-f)),d*=60,0>d&&(d+=360),[d,h,e]},u.hsl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["hsl"]),function(){})},l.hsl=I,a.prototype.hsl=function(){return ia(this._rgb)},J=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(a=za(arguments),e=a[0],p=a[1],r=a[2],r*=255,0===p)i=d=b=r;else switch(360===e&&(e=0),e>360&&(e-=360),0>e&&(e+=360),e/=60,f=D(e),c=e-f,g=r*(1-p),h=r*(1-p*c),q=r*(1-p*(1-c)),f){case 0:j=[r,q,g],i=j[0],d=j[1],b=j[2];break;case 1:k=[h,r,g],i=k[0],d=k[1],b=k[2];break;case 2:l=[g,r,q],i=l[0],d=l[1],b=l[2];break;case 3:m=[g,h,r],i=m[0],d=m[1],b=m[2];break;case 4:n=[q,g,r],i=n[0],d=n[1],b=n[2];break;case 5:o=[r,g,h],i=o[0],d=o[1],b=o[2]}return[i,d,b,a.length>3?a[3]:1]},ja=function(){var a,b,c,d,e,f,g,h,i;return g=za(arguments),f=g[0],c=g[1],a=g[2],e=Math.min(f,c,a),Z=Math.max(f,c,a),b=Z-e,i=Z/255,0===Z?(d=Number.NaN,h=0):(h=b/Z,f===Z&&(d=(c-a)/b),c===Z&&(d=2+(a-f)/b),a===Z&&(d=4+(f-c)/b),d*=60,0>d&&(d+=360)),[d,h,i]},u.hsv=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["hsv"]),function(){})},l.hsv=J,a.prototype.hsv=function(){return ja(this._rgb)},aa=function(a){var b,c,d;return"number"===ya(a)&&a>=0&&16777215>=a?(d=a>>16,c=a>>8&255,b=255&a,[d,c,b,1]):(console.warn("unknown num color: "+a),[0,0,0,1])},na=function(){var a,b,c,d;return d=za(arguments),c=d[0],b=d[1],a=d[2],(c<<16)+(b<<8)+a},u.num=function(b){return new a(b,"num")},a.prototype.num=function(a){return null==a&&(a="rgb"),na(this._rgb,a)},l.num=aa,j.push({p:1,test:function(a){return 1===arguments.length&&"number"===ya(a)&&a>=0&&16777215>=a?"num":void 0}}),E=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(c=za(arguments),h=c[0],e=c[1],b=c[2],e/=100,g=g/100*255,a=255*e,0===e)l=g=d=b;else switch(360===h&&(h=0),h>360&&(h-=360),0>h&&(h+=360),h/=60,i=D(h),f=h-i,j=b*(1-e),k=j+a*(1-f),s=j+a*f,t=j+a,i){case 0:m=[t,s,j],l=m[0],g=m[1],d=m[2];break;case 1:n=[k,t,j],l=n[0],g=n[1],d=n[2];break;case 2:o=[j,t,s],l=o[0],g=o[1],d=o[2];break;case 3:p=[j,k,t],l=p[0],g=p[1],d=p[2];break;case 4:q=[s,j,t],l=q[0],g=q[1],d=q[2];break;case 5:r=[t,j,k],l=r[0],g=r[1],d=r[2]}return[l,g,d,c.length>3?c[3]:1]},fa=function(){var a,b,c,d,e,f,g,h,i;return i=za(arguments),h=i[0],e=i[1],b=i[2],g=Math.min(h,e,b),Z=Math.max(h,e,b),d=Z-g,c=100*d/255,a=g/(255-d)*100,0===d?f=Number.NaN:(h===Z&&(f=(e-b)/d),e===Z&&(f=2+(b-h)/d),b===Z&&(f=4+(h-e)/d),f*=60,0>f&&(f+=360)),[f,c,a]},u.hcg=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["hcg"]),function(){})},l.hcg=E,a.prototype.hcg=function(){return fa(this._rgb)},z=function(a){var b,c,d,e,f,g,h,i;if(a=a.toLowerCase(),null!=u.colors&&u.colors[a])return F(u.colors[a]);if(f=a.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(h=f.slice(1,4),e=g=0;2>=g;e=++g)h[e]=+h[e];h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(h=f.slice(1,5),e=i=0;3>=i;e=++i)h[e]=+h[e];else if(f=a.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(h=f.slice(1,4),e=b=0;2>=b;e=++b)h[e]=ta(2.55*h[e]);h[3]=1}else if(f=a.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(h=f.slice(1,5),e=c=0;2>=c;e=++c)h[e]=ta(2.55*h[e]);h[3]=+h[3]}else(f=a.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=I(d),h[3]=1):(f=a.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(d=f.slice(1,4),d[1]*=.01,d[2]*=.01,h=I(d),h[3]=+f[4]);return h},ea=function(a){var b;return b=a[3]<1?"rgba":"rgb","rgb"===b?b+"("+a.slice(0,3).map(ta).join(",")+")":"rgba"===b?b+"("+a.slice(0,3).map(ta).join(",")+","+a[3]+")":void 0},ra=function(a){return ta(100*a)/100},H=function(a,b){var c;return c=1>b?"hsla":"hsl",a[0]=ra(a[0]||0),a[1]=ra(100*a[1])+"%",a[2]=ra(100*a[2])+"%","hsla"===c&&(a[3]=b),c+"("+a.join(",")+")"},l.css=function(a){return z(a)},u.css=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["css"]),function(){})},a.prototype.css=function(a){return null==a&&(a="rgb"),"rgb"===a.slice(0,3)?ea(this._rgb):"hsl"===a.slice(0,3)?H(this.hsl(),this.alpha()):void 0},l.named=function(a){return F(Aa[a])},j.push({p:5,test:function(a){return 1===arguments.length&&null!=Aa[a]?"named":void 0}}),a.prototype.name=function(a){var b,c;arguments.length&&(Aa[a]&&(this._rgb=F(Aa[a])),this._rgb[3]=1),b=this.hex();for(c in Aa)if(b===Aa[c])return c;return b},S=function(){var a,b,c,e;return e=za(arguments),c=e[0],a=e[1],b=e[2],b*=d,[c,y(b)*a,va(b)*a]},T=function(){var a,b,c,d,e,f,g,h,i,j,k;return c=za(arguments),h=c[0],e=c[1],g=c[2],j=S(h,e,g),a=j[0],b=j[1],d=j[2],k=Q(a,b,d),i=k[0],f=k[1],d=k[2],[i,f,d,c.length>3?c[3]:1]},P=function(){var a,b,c,d,e,f;return f=za(arguments),e=f[0],a=f[1],b=f[2],c=wa(a*a+b*b),d=(o(b,a)*h+360)%360,0===ta(1e4*c)&&(d=Number.NaN),[e,c,d]},la=function(){var a,b,c,d,e,f,g;return f=za(arguments),e=f[0],c=f[1],b=f[2],g=ka(e,c,b),d=g[0],a=g[1],b=g[2],P(d,a,b)},u.lch=function(){var b;return b=za(arguments),new a(b,"lch")},u.hcl=function(){var b;return b=za(arguments),new a(b,"hcl")},l.lch=T,l.hcl=function(){var a,b,c,d;return d=za(arguments),b=d[0],a=d[1],c=d[2],T([c,a,b])},a.prototype.lch=function(){return la(this._rgb)},a.prototype.hcl=function(){return la(this._rgb).reverse()},da=function(a){var b,c,d,e,f,g,h,i,j;return null==a&&(a="rgb"),i=za(arguments),h=i[0],e=i[1],b=i[2],h/=255,e/=255,b/=255,f=1-Math.max(h,Math.max(e,b)),d=1>f?1/(1-f):0,c=(1-h-f)*d,g=(1-e-f)*d,j=(1-b-f)*d,[c,g,j,f]},w=function(){var a,b,c,d,e,f,g,h,i;return b=za(arguments),d=b[0],g=b[1],i=b[2],f=b[3],a=b.length>4?b[4]:1,1===f?[0,0,0,a]:(h=d>=1?0:255*(1-d)*(1-f),e=g>=1?0:255*(1-g)*(1-f),c=i>=1?0:255*(1-i)*(1-f),[h,e,c,a])},l.cmyk=function(){return w(za(arguments))},u.cmyk=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["cmyk"]),function(){})},a.prototype.cmyk=function(){return da(this._rgb)},l.gl=function(){var a,b,c,d,e;for(d=function(){var a,c;a=za(arguments),c=[];for(b in a)e=a[b],c.push(e);return c}.apply(this,arguments),a=c=0;2>=c;a=++c)d[a]*=255;return d},u.gl=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["gl"]),function(){})},a.prototype.gl=function(){var a;return a=this._rgb,[a[0]/255,a[1]/255,a[2]/255,a[3]]},ma=function(a,b,c){var d;return d=za(arguments),a=d[0],b=d[1],c=d[2],a=X(a),b=X(b),c=X(c),.2126*a+.7152*b+.0722*c},X=function(a){return a/=255,.03928>=a?a/12.92:ca((a+.055)/1.055,2.4)},m=[],K=function(a,b,c,d){var e,f,g,h;for(null==c&&(c=.5),null==d&&(d="rgb"),"object"!==ya(a)&&(a=u(a)),"object"!==ya(b)&&(b=u(b)),g=0,f=m.length;f>g;g++)if(e=m[g],d===e[0]){h=e[1](a,b,c,d);break}if(null==h)throw"color mode "+d+" is not supported";return h.alpha(a.alpha()+c*(b.alpha()-a.alpha()))},u.interpolate=K,a.prototype.interpolate=function(a,b,c){return K(this,a,b,c)},u.mix=K,a.prototype.mix=a.prototype.interpolate,O=function(b,c,d,e){var f,g;return f=b._rgb,g=c._rgb,new a(f[0]+d*(g[0]-f[0]),f[1]+d*(g[1]-f[1]),f[2]+d*(g[2]-f[2]),e)},m.push(["rgb",O]),a.prototype.luminance=function(a,b){var c,d,e,f;return null==b&&(b="rgb"),arguments.length?(0===a?this._rgb=[0,0,0,this._rgb[3]]:1===a?this._rgb=[255,255,255,this._rgb[3]]:(d=1e-7,e=20,f=function(c,g){var h,i;return i=c.interpolate(g,.5,b),h=i.luminance(),Math.abs(a-h)<d||!e--?i:h>a?f(c,i):f(i,g)},c=ma(this._rgb),this._rgb=(c>a?f(u("black"),this):f(this,u("white"))).rgba()),this):ma(this._rgb)},xa=function(a){var b,c,d,e;return e=a/100,66>e?(d=255,c=-155.25485562709179-.44596950469579133*(c=e-2)+104.49216199393888*W(c),b=20>e?0:-254.76935184120902+.8274096064007395*(b=e-10)+115.67994401066147*W(b)):(d=351.97690566805693+.114206453784165*(d=e-55)-40.25366309332127*W(d),c=325.4494125711974+.07943456536662342*(c=e-50)-28.0852963507957*W(c),b=255),[d,c,b]},oa=function(){var a,b,c,d,e,f,g,h,i;for(g=za(arguments),f=g[0],c=g[1],a=g[2],e=1e3,d=4e4,b=.4;d-e>b;)i=.5*(d+e),h=xa(i),h[2]/h[0]>=a/f?d=i:e=i;return ta(i)},u.temperature=u.kelvin=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["temperature"]),function(){})},l.temperature=l.kelvin=l.K=xa,a.prototype.temperature=function(){return oa(this._rgb)},a.prototype.kelvin=a.prototype.temperature,u.contrast=function(b,c){var d,e,f,g;return("string"===(f=ya(b))||"number"===f)&&(b=new a(b)),("string"===(g=ya(c))||"number"===g)&&(c=new a(c)),d=b.luminance(),e=c.luminance(),d>e?(d+.05)/(e+.05):(e+.05)/(d+.05)},u.distance=function(b,c,d){var e,f,g,h,i,j,k;null==d&&(d="lab"),("string"===(i=ya(b))||"number"===i)&&(b=new a(b)),("string"===(j=ya(c))||"number"===j)&&(c=new a(c)),g=b.get(d),h=c.get(d),k=0;for(f in g)e=(g[f]||0)-(h[f]||0),k+=e*e;return Math.sqrt(k)},u.deltaE=function(b,c,d,e){var g,h,i,j,k,l,m,p,q,r,s,t,u,v,w,x,z,A,B,C,D,E,F,G,H,I,J;for(null==d&&(d=1),null==e&&(e=1),("string"===(z=ya(b))||"number"===z)&&(b=new a(b)),("string"===(A=ya(c))||"number"===A)&&(c=new a(c)),B=b.lab(),g=B[0],i=B[1],k=B[2],C=c.lab(),h=C[0],j=C[1],l=C[2],m=wa(i*i+k*k),p=wa(j*j+l*l),F=16>g?.511:.040975*g/(1+.01765*g),D=.0638*m/(1+.0131*m)+.638,x=1e-6>m?0:180*o(k,i)/f;0>x;)x+=360;for(;x>=360;)x-=360;return G=x>=164&&345>=x?.56+n(.2*y(f*(x+168)/180)):.36+n(.4*y(f*(x+35)/180)),q=m*m*m*m,w=wa(q/(q+1900)),E=D*(w*G+1-w),v=g-h,u=m-p,s=i-j,t=k-l,r=s*s+t*t-u*u,H=v/(d*F),I=u/(e*D),J=E,wa(H*H+I*I+r/(J*J))},a.prototype.get=function(a){var b,c,d,e,f,g;return d=this,f=a.split("."),e=f[0],b=f[1],g=d[e](),b?(c=e.indexOf(b),c>-1?g[c]:console.warn("unknown channel "+b+" in mode "+e)):g},a.prototype.set=function(a,b){var c,d,e,f,g,h;if(e=this,g=a.split("."),f=g[0],c=g[1],c)if(h=e[f](),d=f.indexOf(c),d>-1)if("string"===ya(b))switch(b.charAt(0)){case"+":h[d]+=+b;break;case"-":h[d]+=+b;break;case"*":h[d]*=+b.substr(1);break;case"/":h[d]/=+b.substr(1);break;default:h[d]=+b}else h[d]=b;else console.warn("unknown channel "+c+" in mode "+f);else h=b;return u(h,f).alpha(e.alpha())},a.prototype.clipped=function(){return this._rgb._clipped||!1},a.prototype.alpha=function(a){return arguments.length?u.rgb([this._rgb[0],this._rgb[1],this._rgb[2],a]):this._rgb[3]},a.prototype.darken=function(a){var b,c;return null==a&&(a=1),c=this,b=c.lab(),b[0]-=e.Kn*a,u.lab(b).alpha(c.alpha())},a.prototype.brighten=function(a){return null==a&&(a=1),this.darken(-a)},a.prototype.darker=a.prototype.darken,a.prototype.brighter=a.prototype.brighten,a.prototype.saturate=function(a){var b,c;return null==a&&(a=1),c=this,b=c.lch(),b[1]+=a*e.Kn,b[1]<0&&(b[1]=0),u.lch(b).alpha(c.alpha())},a.prototype.desaturate=function(a){return null==a&&(a=1),this.saturate(-a)},a.prototype.premultiply=function(){var a,b;return b=this.rgb(),a=this.alpha(),u(b[0]*a,b[1]*a,b[2]*a,a)},q=function(a,b,c){if(!q[c])throw"unknown blend mode "+c;return q[c](a,b)},r=function(a){return function(b,c){var d,e;return d=u(c).rgb(),e=u(b).rgb(),u(a(d,e),"rgb")}},C=function(a){return function(b,c){var d,e,f;for(f=[],d=e=0;3>=e;d=++e)f[d]=a(b[d],c[d]);return f}},_=function(a,b){return a},$=function(a,b){return a*b/255},A=function(a,b){return a>b?b:a},U=function(a,b){return a>b?a:b},ua=function(a,b){return 255*(1-(1-a/255)*(1-b/255))},ba=function(a,b){return 128>b?2*a*b/255:255*(1-2*(1-a/255)*(1-b/255))},t=function(a,b){return 255*(1-(1-b/255)/(a/255))},B=function(a,b){return 255===a?255:(a=255*(b/255)/(1-a/255),a>255?255:a)},q.normal=r(C(_)),q.multiply=r(C($)),q.screen=r(C(ua)),q.overlay=r(C(ba)),q.darken=r(C(A)),q.lighten=r(C(U)),q.dodge=r(C(B)),q.burn=r(C(t)),u.blend=q,u.analyze=function(a){var b,c,d,e;for(d={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},c=0,b=a.length;b>c;c++)e=a[c],null==e||isNaN(e)||(d.values.push(e),d.sum+=e,e<d.min&&(d.min=e),e>d.max&&(d.max=e),d.count+=1);return d.domain=[d.min,d.max],d.limits=function(a,b){return u.limits(d,a,b)},d},u.scale=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,v,w,x,y;return k="rgb",l=u("#ccc"),p=0,h=!1,g=[0,1],o=[],n=[0,0],c=!1,e=[],m=!1,j=0,i=1,f=!1,d={},q=!0,x=function(a){var b,c,d,f,g,h;if(null==a&&(a=["#fff","#000"]),null!=a&&"string"===ya(a)&&null!=u.brewer&&(a=u.brewer[a]||u.brewer[a.toLowerCase()]||a),"array"===ya(a)){for(a=a.slice(0),b=d=0,f=a.length-1;f>=0?f>=d:d>=f;b=f>=0?++d:--d)c=a[b],"string"===ya(c)&&(a[b]=u(c));for(o.length=0,b=h=0,g=a.length-1;g>=0?g>=h:h>=g;b=g>=0?++h:--h)o.push(b/(a.length-1))}return w(),e=a},t=function(a){var b,d;if(null!=c){for(d=c.length-1,b=0;d>b&&a>=c[b];)b++;return b-1}return 0},y=function(a){return a},r=function(a){var b,d,e,f,g;return g=a,c.length>2&&(f=c.length-1,b=t(a),e=c[0]+(c[1]-c[0])*(0+.5*p),d=c[f-1]+(c[f]-c[f-1])*(1-.5*p),g=j+(c[b]+.5*(c[b+1]-c[b])-e)/(d-e)*(i-j)),g},v=function(a,b){var f,g,h,m,p,r,s,v;if(null==b&&(b=!1),isNaN(a))return l;if(b?v=a:c&&c.length>2?(f=t(a),v=f/(c.length-2),v=n[0]+v*(1-n[0]-n[1])):i!==j?(v=(a-j)/(i-j),v=n[0]+v*(1-n[0]-n[1]),v=Math.min(1,Math.max(0,v))):v=1,b||(v=y(v)),m=Math.floor(1e4*v),q&&d[m])g=d[m];else{if("array"===ya(e))for(h=p=0,s=o.length-1;s>=0?s>=p:p>=s;h=s>=0?++p:--p){if(r=o[h],r>=v){g=e[h];break}if(v>=r&&h===o.length-1){g=e[h];break}if(v>r&&v<o[h+1]){v=(v-r)/(o[h+1]-r),g=u.interpolate(e[h],e[h+1],v,k);break}}else"function"===ya(e)&&(g=e(v));q&&(d[m]=g)}return g},w=function(){return d={}},x(a),s=function(a){var b;return b=u(v(a)),m&&b[m]?b[m]():b},s.classes=function(a){var b;return null!=a?("array"===ya(a)?(c=a,g=[a[0],a[a.length-1]]):(b=u.analyze(g),c=0===a?[b.min,b.max]:u.limits(b,"e",a)),s):c},s.domain=function(a){var b,c,d,f,h,k,l;if(!arguments.length)return g;if(j=a[0],i=a[a.length-1],o=[],d=e.length,a.length===d&&j!==i)for(h=0,f=a.length;f>h;h++)c=a[h],o.push((c-j)/(i-j));else for(b=l=0,k=d-1;k>=0?k>=l:l>=k;b=k>=0?++l:--l)o.push(b/(d-1));return g=[j,i],s},s.mode=function(a){return arguments.length?(k=a,w(),s):k},s.range=function(a,b){return x(a,b),s},s.out=function(a){return m=a,s},s.spread=function(a){return arguments.length?(p=a,s):p},s.correctLightness=function(a){return null==a&&(a=!0),f=a,w(),y=f?function(a){var b,c,d,e,f,g,h,i,j;for(b=v(0,!0).lab()[0],c=v(1,!0).lab()[0],h=b>c,d=v(a,!0).lab()[0],f=b+(c-b)*a,e=d-f,i=0,j=1,g=20;Math.abs(e)>.01&&g-->0;)!function(){return h&&(e*=-1),0>e?(i=a,a+=.5*(j-a)):(j=a,a+=.5*(i-a)),d=v(a,!0).lab()[0],e=d-f}();return a}:function(a){return a},s},s.padding=function(a){return null!=a?("number"===ya(a)&&(a=[a,a]),n=a,s):n},s.colors=function(b,d){var f,h,i,j,k,l,m,n;if(arguments.length<2&&(d="hex"),k=[],0===arguments.length)k=e.slice(0);else if(1===b)k=[s(.5)];else if(b>1)h=g[0],f=g[1]-h,k=function(){l=[];for(var a=0;b>=0?b>a:a>b;b>=0?a++:a--)l.push(a);return l}.apply(this).map(function(a){return s(h+a/(b-1)*f)});else{if(a=[],m=[],c&&c.length>2)for(i=n=1,j=c.length;j>=1?j>n:n>j;i=j>=1?++n:--n)m.push(.5*(c[i-1]+c[i]));else m=g;k=m.map(function(a){return s(a)})}return u[d]&&(k=k.map(function(a){return a[d]()})),k},s.cache=function(a){return null!=a?q=a:q},s},null==u.scales&&(u.scales={}),u.scales.cool=function(){return u.scale([u.hsl(180,1,.9),u.hsl(250,.7,.4)])},u.scales.hot=function(){return u.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},u.analyze=function(a,b,c){var d,e,f,g,h,i,j;if(h={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==c&&(c=function(){return!0}),d=function(a){null==a||isNaN(a)||(h.values.push(a),h.sum+=a,a<h.min&&(h.min=a),a>h.max&&(h.max=a),h.count+=1)},j=function(a,e){return c(a,e)?d(null!=b&&"function"===ya(b)?b(a):null!=b&&"string"===ya(b)||"number"===ya(b)?a[b]:a):void 0},"array"===ya(a))for(g=0,f=a.length;f>g;g++)i=a[g],j(i);else for(e in a)i=a[e],j(i,e);return h.domain=[h.min,h.max],h.limits=function(a,b){return u.limits(h,a,b)},h},u.limits=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,v,w,x,y,z,A,B,C,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,X,Y,$,_,aa,ba,da,ea,fa,ga,ha,ia,ja,ka;if(null==b&&(b="equal"),null==c&&(c=7),"array"===ya(a)&&(a=u.analyze(a)),E=a.min,Z=a.max,fa=a.sum,ja=a.values.sort(function(a,b){return a-b}),1===c)return[E,Z];if(B=[],"c"===b.substr(0,1)&&(B.push(E),B.push(Z)),"e"===b.substr(0,1)){for(B.push(E),y=K=1,O=c-1;O>=1?O>=K:K>=O;y=O>=1?++K:--K)B.push(E+y/c*(Z-E));B.push(Z)}else if("l"===b.substr(0,1)){if(0>=E)throw"Logarithmic scales are only possible for values > 0";for(F=Math.LOG10E*W(E),C=Math.LOG10E*W(Z),B.push(E),y=ka=1,P=c-1;P>=1?P>=ka:ka>=P;y=P>=1?++ka:--ka)B.push(ca(10,F+y/c*(C-F)));B.push(Z)}else if("q"===b.substr(0,1)){for(B.push(E),y=d=1,V=c-1;V>=1?V>=d:d>=V;y=V>=1?++d:--d)L=(ja.length-1)*y/c,M=D(L),M===L?B.push(ja[M]):(N=L-M,B.push(ja[M]*(1-N)+ja[M+1]*N));B.push(Z)}else if("k"===b.substr(0,1)){for(H=ja.length,r=new Array(H),w=new Array(c),ea=!0,I=0,t=null,t=[],t.push(E),y=e=1,X=c-1;X>=1?X>=e:e>=X;y=X>=1?++e:--e)t.push(E+y/c*(Z-E));for(t.push(Z);ea;){for(z=f=0,Y=c-1;Y>=0?Y>=f:f>=Y;z=Y>=0?++f:--f)w[z]=0;for(y=g=0,$=H-1;$>=0?$>=g:g>=$;y=$>=0?++g:--g){for(ia=ja[y],G=Number.MAX_VALUE,z=h=0,_=c-1;_>=0?_>=h:h>=_;z=_>=0?++h:--h)x=n(t[z]-ia),G>x&&(G=x,s=z);w[s]++,r[y]=s}for(J=new Array(c),z=i=0,aa=c-1;aa>=0?aa>=i:i>=aa;z=aa>=0?++i:--i)J[z]=null;for(y=j=0,ba=H-1;ba>=0?ba>=j:j>=ba;y=ba>=0?++j:--j)v=r[y],null===J[v]?J[v]=ja[y]:J[v]+=ja[y];for(z=k=0,da=c-1;da>=0?da>=k:k>=da;z=da>=0?++k:--k)J[z]*=1/w[z];for(ea=!1,z=l=0,Q=c-1;Q>=0?Q>=l:l>=Q;z=Q>=0?++l:--l)if(J[z]!==t[y]){ea=!0;break}t=J,I++,I>200&&(ea=!1)}for(A={},z=m=0,R=c-1;R>=0?R>=m:m>=R;z=R>=0?++m:--m)A[z]=[];for(y=o=0,S=H-1;S>=0?S>=o:o>=S;y=S>=0?++o:--o)v=r[y],A[v].push(ja[y]);for(ga=[],z=p=0,T=c-1;T>=0?T>=p:p>=T;z=T>=0?++p:--p)ga.push(A[z][0]),ga.push(A[z][A[z].length-1]);for(ga=ga.sort(function(a,b){return a-b}),B.push(ga[0]),y=q=1,U=ga.length-1;U>=q;y=q+=2)ha=ga[y],isNaN(ha)||-1!==B.indexOf(ha)||B.push(ha)}return B},G=function(a,b,c){var d,e,f,h;return d=za(arguments),a=d[0],b=d[1],c=d[2],isNaN(a)&&(a=0),a/=360,1/3>a?(e=(1-b)/3,h=(1+b*y(i*a)/y(g-i*a))/3,f=1-(e+h)):2/3>a?(a-=1/3,h=(1-b)/3,f=(1+b*y(i*a)/y(g-i*a))/3,e=1-(h+f)):(a-=2/3,f=(1-b)/3,e=(1+b*y(i*a)/y(g-i*a))/3,h=1-(f+e)),h=V(c*h*3),f=V(c*f*3),e=V(c*e*3),[255*h,255*f,255*e,d.length>3?d[3]:1]},ha=function(){var a,b,c,d,e,f,g,h;return g=za(arguments),f=g[0],b=g[1],a=g[2],i=2*Math.PI,f/=255,b/=255,a/=255,e=Math.min(f,b,a),d=(f+b+a)/3,h=1-e/d,0===h?c=0:(c=(f-b+(f-a))/2,c/=Math.sqrt((f-b)*(f-b)+(f-a)*(b-a)),c=Math.acos(c),a>b&&(c=i-c),c/=i),[360*c,h,d]},u.hsi=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,Da.call(arguments).concat(["hsi"]),function(){})},l.hsi=G,a.prototype.hsi=function(){return ha(this._rgb)},L=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;return"hsl"===d?(p=a.hsl(),q=b.hsl()):"hsv"===d?(p=a.hsv(),q=b.hsv()):"hcg"===d?(p=a.hcg(),q=b.hcg()):"hsi"===d?(p=a.hsi(),q=b.hsi()):("lch"===d||"hcl"===d)&&(d="hcl",p=a.hcl(),q=b.hcl()),"h"===d.substr(0,1)&&(g=p[0],n=p[1],j=p[2],h=q[0],o=q[1],k=q[2]),isNaN(g)||isNaN(h)?isNaN(g)?isNaN(h)?f=Number.NaN:(f=h,1!==j&&0!==j||"hsv"===d||(m=o)):(f=g,1!==k&&0!==k||"hsv"===d||(m=n)):(e=h>g&&h-g>180?h-(g+360):g>h&&g-h>180?h+360-g:h-g,f=g+c*e),null==m&&(m=n+c*(o-n)),i=j+c*(k-j),l=u[d](f,m,i)},m=m.concat(function(){var a,b,c,d;for(c=["hsv","hsl","hsi","hcl","lch","hcg"],d=[],b=0,a=c.length;a>b;b++)Y=c[b],d.push([Y,L]);return d}()),N=function(a,b,c,d){var e,f;return e=a.num(),f=b.num(),u.num(e+(f-e)*c,"num")},m.push(["num",N]),M=function(b,c,d,e){var f,g,h;return g=b.lab(),h=c.lab(),f=new a(g[0]+d*(h[0]-g[0]),g[1]+d*(h[1]-g[1]),g[2]+d*(h[2]-g[2]),e)},m.push(["lab",M])}).call(this)},{}],25:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],26:[function(a,b,c){(function(a){(function(){function d(a,b){if(a!==b){var c=null===a,d=a===z,e=a===a,f=null===b,g=b===z,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function e(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function f(a,b,c){if(b!==b)return q(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function g(a){return"function"==typeof a||!1}function h(a){return null==a?"":a+""}function i(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function j(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function k(a,b){return d(a.criteria,b.criteria)||a.index-b.index}function l(a,b,c){for(var e=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++e<h;){var j=d(f[e],g[e]);if(j){if(e>=i)return j;var k=c[e];return j*("asc"===k||k===!0?1:-1)}}return a.index-b.index}function m(a){return Sa[a]}function n(a){return Ta[a]}function o(a,b,c){return b?a=Wa[a]:c&&(a=Xa[a]),"\\"+a}function p(a){return"\\"+Xa[a]}function q(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function r(a){return!!a&&"object"==typeof a}function s(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function t(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=S,f[++e]=c);return f}function u(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function v(a){for(var b=-1,c=a.length;++b<c&&s(a.charCodeAt(b)););return b}function w(a){for(var b=a.length;b--&&s(a.charCodeAt(b)););return b}function x(a){return Ua[a]}function y(a){function b(a){if(r(a)&&!Ch(a)&&!(a instanceof Z)){if(a instanceof s)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new s(a)}function c(){}function s(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Z(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function ba(){var a=new Z(this.__wrapped__);return a.__actions__=ab(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ab(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ab(this.__views__),a}function da(){if(this.__filtered__){var a=new Z(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Sa(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||O>e||e==i&&n==i)return cc(d&&c?a.reverse():a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Q)q=u;else if(!u){if(t==P)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?z:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function ab(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function bb(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function eb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===z?b:a}function pb(a,b,c,d){return a!==z&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==z||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:z:h[c]=d?z:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===z?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===z?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==z)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return ab(a,h)}else{
var j=cg.call(a),k=j==Y;if(j!=_&&j!=T&&(!k||e))return Ra[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?bb:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(R);return lg(function(){a.apply(z,c)},b)}function xb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,g=Qc(),h=g==f,i=h&&b.length>=O?oc(b):null,j=b.length;i&&(g=Za,h=!1,b=i);a:for(;++e<c;){var k=a[e];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else g(b,k,0)<0&&d.push(k)}return d}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===z||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];r(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==z&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:z}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!r(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=U,k=U;h||(j=cg.call(a),j==T?j=_:j!=_&&(h=Qe(a))),i||(k=cg.call(b),k==T?k=_:k!=_&&(i=Qe(b)));var l=j==_,m=k==_,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===z&&!(h in a))return!1}else{var k=c?c(i,j,h):z;if(!(k===z?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==z||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),!(!c&&d||g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==z||g in f:Jb(b,f[g],z,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?z:Nh(b);return bb(g||b,function(h,i){if(g&&(i=h,h=b[i]),r(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):z,l=k===z;l&&(k=h),k===z&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):z,l=k===z;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?ab(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?z:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===z||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return l(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var c=-1,d=Qc(),e=a.length,g=d==f,h=g&&e>=O,i=h?oc():null,j=[];i?(d=Za,g=!1):(h=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof Z&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===z;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==z,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===z)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:z,g=e>2?c[2]:z,h=e>1?c[e-1]:z;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:z,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?z:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==cb&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=z);var f=Kc(c,a,z,z,z,z,z,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(z,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=z),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,b){return function(c,d,f){if(d=Oc(d,f,3),Ch(c)){var g=e(c,d,b);return g>-1?c[g]:z}return Cb(c,d,a)}}function vc(a){return function(b,c,d){return b&&b.length?(c=Oc(c,d,3),e(b,c,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Of(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new Xf(R);!b&&s.prototype.thru&&"wrapper"==Pc(g)&&(b=new s([],!0))}for(d=b?-1:c;++d<c;){g=f[d];var h=Pc(g),i="wrapper"==h?Og(g):z;b=i&&ad(i[0])&&i[1]==(I|E|G|J)&&!i[4].length&&1==i[9]?b[Pc(i[0])].apply(b,i[3]):1==g.length&&ad(g)?b[h]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=O)return b.plant(d).value();for(var e=0,g=c?f[e].apply(this,a):d;++e<c;)g=f[e].call(this,g);return g}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===z&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return("function"!=typeof c||d!==z)&&(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return("function"!=typeof c||d!==z)&&(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=h(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=t(d,b.placeholder);return Kc(c,a,z,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===z&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,u=s,v=Of(s);u--;)v[u]=arguments[u];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||q){var w=k.placeholder,x=t(v,w);if(s-=x.length,j>s){var y=h?ab(h):z,A=vg(j-s,0),D=o?x:z,E=o?z:x,F=o?v:z,I=o?z:v;b|=o?G:H,b&=~(o?H:G),p||(b&=~(B|C));var J=[a,b,c,F,D,I,E,y,i,A],K=Fc.apply(z,J);return ad(a)&&Qg(K,J),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==cb&&this instanceof k&&(M=r||qc(a)),M.apply(L,v)}var l=b&I,m=b&B,n=b&C,o=b&E,p=b&D,q=b&F,r=n?z:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==cb&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&B,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===z?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&C;if(!i&&"function"!=typeof a)throw new Xf(R);var j=d?d.length:0;if(j||(b&=~(G|H),d=e=z),j-=e?e.length:0,b&H){var k=d,l=e;d=e=z}var m=i?z:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==B)var o=nc(n[0],n[2]);else o=b!=G&&b!=(B|G)||n[4].length?Fc.apply(z,n):Hc.apply(z,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):z;if(m!==z){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case V:case W:return+a==+b;case X:return a.name==b.name&&a.message==b.message;case $:return a!=+a?b!=+b:a==+b;case aa:case ca:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):z;if(!(q===z?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,c,d){var e=b.callback||zf;return e=e===zf?ub:e,d?e(a,c,d):e}function Pc(a){for(var b=a.name,c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,c,d){var e=b.indexOf||xd;return e=e===xd?f:e,a?e(a,c,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?z:a[b];return Ke(c)?c:z}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case ea:return gc(a);case V:case W:return new d(+a);case fa:case ga:case ha:case ia:case ja:case ka:case la:case ma:case na:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case $:case ca:return new d(a);case aa:var f=new d(a.source,Ga.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?z:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ja.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&za.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!ya.test(a);return d||null!=b&&a in kd(b)}function ad(a){var c=Pc(a);if(!(c in Z.prototype))return!1;var d=b[c];if(a===d)return!0;var e=Og(d);return!!e&&a===e[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=I>e,g=d==I&&c==E||d==I&&c==J&&a[7].length<=b[8]||d==(I|J)&&c==E;if(!f&&!g)return a;d&B&&(a[2]=b[2],e|=c&B?0:D);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):ab(h),a[4]=i?t(a[3],S):ab(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):ab(h),a[6]=i?t(a[5],S):ab(b[6])),h=b[7],h&&(a[7]=ab(h)),d&I&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===z?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=ab(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:z}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return h(a).replace(Aa,function(a,c,d,e){b.push(d?e.replace(Ea,"$1"):c||a)}),b}function md(a){return a instanceof Z?a.clone():new s(a.__wrapped__,a.__chain__,ab(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:z}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?vg(d+c,0):c;else if(c){var e=dc(a,b);return d>e&&(b===b?b===a[e]:a[e]!==a[e])?e:-1}return f(a,b,c||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:z}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return q(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=$c(a,b,d)?z:b,b=!1);var g=Oc();return(null!=c||g!==ub)&&(c=g(c,d,3)),b&&Qc()==f?u(a,c):_b(a,c)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,z,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var c=b(a);return c.__chain__=!0,c}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new s(this.value(),this.__chain__)}function Td(a){for(var b,d=this;d instanceof c;){var e=md(d);b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return c&&c.__dir__<0?a:a.reverse()};if(a instanceof Z){var c=a;return this.__actions__.length&&(c=new Z(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:z}),new s(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=z),("function"!=typeof b||c!==z)&&(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:z}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=z),("function"!=typeof b||c!==z)&&(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=z);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,k)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=z),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(R);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=z),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,I,z,z,z,z,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(R);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=z),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=z}function e(b,c){c&&gg(c),j=n=o=z,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=z))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=z),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(R);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(R);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(R);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(R);return b=vg(b===z?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(R);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(R);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,G,z,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,1)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,1)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return r(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||r(a)&&cg.call(a)==V}function Ae(a){return r(a)&&cg.call(a)==W}function Be(a){return!!a&&1===a.nodeType&&r(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||r(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):z;var e=c?c(a,b):z;return e===z?Jb(a,b,c):!!e}function Ee(a){return r(a)&&"string"==typeof a.message&&cg.call(a)==X}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==Y}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):z,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):r(a)&&Ia.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||r(a)&&cg.call(a)==$}function Ne(a){var b;if(!r(a)||cg.call(a)!=_||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===z||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==aa}function Pe(a){return"string"==typeof a||r(a)&&cg.call(a)==ca}function Qe(a){return r(a)&&bd(a.length)&&!!Qa[cg.call(a)]}function Re(a){return a===z}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?ab(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=z),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?z:Ib(a,ld(b),b+"");return d===z?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=z);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?z:a[b];return d===z&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?z:a[zd(b)]),d=d===z?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:z)}else c={};return(e?bb:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===z?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=z);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=h(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=h(a),a&&a.replace(Ka,m).replace(Da,"")}function lf(a,b,c){a=h(a),b+="";var d=a.length;return c=c===z?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=h(a),a&&ua.test(a)?a.replace(sa,n):a}function nf(a){return a=h(a),a&&Ca.test(a)?a.replace(Ba,o):a||"(?:)"}function of(a,b,c){a=h(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var e=(b-d)/2,f=rg(e),g=pg(e);return c=Gc("",g,c),c.slice(0,f)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ha.test(a)?16:10))}function qf(a,b){var c="";if(a=h(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=h(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,c,d){var e=b.templateSettings;d&&$c(a,c,d)&&(c=d=z),a=h(a),c=qb(rb({},d||c),e,pb);var f,g,i=qb(rb({},c.imports),e.imports,pb),j=Nh(i),k=ac(i,j),l=0,m=c.interpolate||La,n="__p += '",o=Vf((c.escape||La).source+"|"+m.source+"|"+(m===xa?Fa:La).source+"|"+(c.evaluate||La).source+"|$","g"),q="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Pa+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Ma,p),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var r=c.variable;r||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(oa,""):n).replace(pa,"$1").replace(qa,"$1;"),n="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Yh(function(){return Rf(j,q+"return "+n).apply(z,k)});if(s.source=n,Ee(s))throw s;return s}function tf(a,b,c){var d=a;return(a=h(a))?(c?$c(d,b,c):null==b)?a.slice(v(a),w(a)+1):(b+="",a.slice(i(a,b),j(a,b)+1)):a}function uf(a,b,c){var d=a;return a=h(a),a?(c?$c(d,b,c):null==b)?a.slice(v(a)):a.slice(i(a,b+"")):a}function vf(a,b,c){var d=a;return a=h(a),a?(c?$c(d,b,c):null==b)?a.slice(0,w(a)+1):a.slice(0,j(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=z);var d=K,e=L;if(null!=b)if(He(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?h(b.omission):e}else d=+b||0;if(a=h(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var i=a.slice(0,g);if(null==f)return i+e;if(Oe(f)){if(a.slice(g).search(f)){var j,k,l=a.slice(0,g);for(f.global||(f=Vf(f.source,(Ga.exec(f)||"")+"g")),f.lastIndex=0;j=f.exec(l);)k=j.index;i=i.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=i.lastIndexOf(f);m>-1&&(i=i.slice(0,m))}return i+e}function xf(a){return a=h(a),a&&ta.test(a)?a.replace(ra,x):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=z),a=h(a),a.match(b||Na)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=z),r(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):z,f=e&&e.length?Hb(b,e):z;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=ab(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return cb._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=z),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return h(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=z),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}a=a?db.defaults(cb.Object(),a,db.pick(cb,Oa)):cb;var Of=a.Array,Pf=a.Date,Qf=a.Error,Rf=a.Function,Sf=a.Math,Tf=a.Number,Uf=a.Object,Vf=a.RegExp,Wf=a.String,Xf=a.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=cb._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=a.ArrayBuffer,gg=a.clearTimeout,hg=a.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(a,"Set"),lg=a.setTimeout,mg=Yf.splice,ng=a.Uint8Array,og=Sc(a,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=a.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=a.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};b.support={};b.templateSettings={escape:va,evaluate:wa,interpolate:xa,variable:"",imports:{_:b}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=z}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){
var e=oh(),f=N-(e-b);if(b=e,f>0){if(++a>=M)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return r(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,c=b,d=Of(l),e=Qc(),g=e==f,h=[];c--;){var i=a[c]=Yc(i=a[c])?i:[];d[c]=g&&i.length>=120?oc(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(h,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(a,b){b=Db(b);var c=sb(a,b);return Tb(a,b.sort(d)),c}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:z,d=b>1?a[b-1]:z;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):z,d=z),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return _a(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(bb,Jg),gh=yc(eb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:z;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=B;if(c.length){var e=t(c,ph.placeholder);d|=G}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],B,a)}return a}),rh=qe(function(a,b,c){var d=B|C;if(c.length){var e=t(c,rh.placeholder);d|=G}return Kc(b,d,a,c,e)}),sh=rc(E),th=rc(F),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,g))throw new Xf(R);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(G),Ah=Dc(H),Bh=qe(function(a,b){return Kc(a,J,z,z,z,Db(b))}),Ch=sg||function(a){return r(a)&&bd(a.length)&&cg.call(a)==U},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?z:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(z,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return b.prototype=c.prototype,s.prototype=Ig(c.prototype),s.prototype.constructor=s,Z.prototype=Ig(c.prototype),Z.prototype.constructor=Z,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,b.after=je,b.ary=ke,b.assign=Eh,b.at=bh,b.before=le,b.bind=ph,b.bindAll=qh,b.bindKey=rh,b.callback=zf,b.chain=Od,b.chunk=nd,b.compact=od,b.constant=Af,b.countBy=ch,b.create=We,b.curry=sh,b.curryRight=th,b.debounce=me,b.defaults=Fh,b.defaultsDeep=Gh,b.defer=uh,b.delay=vh,b.difference=Rg,b.drop=pd,b.dropRight=qd,b.dropRightWhile=rd,b.dropWhile=sd,b.fill=td,b.filter=Yd,b.flatten=vd,b.flattenDeep=wd,b.flow=wh,b.flowRight=xh,b.forEach=fh,b.forEachRight=gh,b.forIn=Jh,b.forInRight=Kh,b.forOwn=Lh,b.forOwnRight=Mh,b.functions=Xe,b.groupBy=hh,b.indexBy=ih,b.initial=yd,b.intersection=Ug,b.invert=$e,b.invoke=jh,b.keys=Nh,b.keysIn=_e,b.map=_d,b.mapKeys=Oh,b.mapValues=Ph,b.matches=Cf,b.matchesProperty=Df,b.memoize=ne,b.merge=Dh,b.method=Zh,b.methodOf=$h,b.mixin=Ef,b.modArgs=yh,b.negate=oe,b.omit=Qh,b.once=pe,b.pairs=af,b.partial=zh,b.partialRight=Ah,b.partition=kh,b.pick=Rh,b.pluck=ae,b.property=Hf,b.propertyOf=If,b.pull=Bd,b.pullAt=Vg,b.range=Jf,b.rearg=Bh,b.reject=be,b.remove=Cd,b.rest=Dd,b.restParam=qe,b.set=cf,b.shuffle=de,b.slice=Ed,b.sortBy=ge,b.sortByAll=nh,b.sortByOrder=he,b.spread=re,b.take=Fd,b.takeRight=Gd,b.takeRightWhile=Hd,b.takeWhile=Id,b.tap=Pd,b.throttle=se,b.thru=Qd,b.times=Kf,b.toArray=Ue,b.toPlainObject=Ve,b.transform=df,b.union=Yg,b.uniq=Jd,b.unzip=Kd,b.unzipWith=Ld,b.values=ef,b.valuesIn=ff,b.where=ie,b.without=Zg,b.wrap=te,b.xor=Md,b.zip=$g,b.zipObject=Nd,b.zipWith=_g,b.backflow=xh,b.collect=_d,b.compose=xh,b.each=fh,b.eachRight=gh,b.extend=Eh,b.iteratee=zf,b.methods=Xe,b.object=Nd,b.select=Yd,b.tail=Dd,b.unique=Jd,Ef(b,b),b.add=Mf,b.attempt=Yh,b.camelCase=Sh,b.capitalize=jf,b.ceil=_h,b.clone=ue,b.cloneDeep=ve,b.deburr=kf,b.endsWith=lf,b.escape=mf,b.escapeRegExp=nf,b.every=Xd,b.find=dh,b.findIndex=Sg,b.findKey=Hh,b.findLast=eh,b.findLastIndex=Tg,b.findLastKey=Ih,b.findWhere=Zd,b.first=ud,b.floor=ai,b.get=Ye,b.gt=we,b.gte=xe,b.has=Ze,b.identity=Bf,b.includes=$d,b.indexOf=xd,b.inRange=gf,b.isArguments=ye,b.isArray=Ch,b.isBoolean=ze,b.isDate=Ae,b.isElement=Be,b.isEmpty=Ce,b.isEqual=De,b.isError=Ee,b.isFinite=Fe,b.isFunction=Ge,b.isMatch=Ie,b.isNaN=Je,b.isNative=Ke,b.isNull=Le,b.isNumber=Me,b.isObject=He,b.isPlainObject=Ne,b.isRegExp=Oe,b.isString=Pe,b.isTypedArray=Qe,b.isUndefined=Re,b.kebabCase=Th,b.last=zd,b.lastIndexOf=Ad,b.lt=Se,b.lte=Te,b.max=bi,b.min=ci,b.noConflict=Ff,b.noop=Gf,b.now=oh,b.pad=of,b.padLeft=Uh,b.padRight=Vh,b.parseInt=pf,b.random=hf,b.reduce=lh,b.reduceRight=mh,b.repeat=qf,b.result=bf,b.round=di,b.runInContext=y,b.size=ee,b.snakeCase=Wh,b.some=fe,b.sortedIndex=Wg,b.sortedLastIndex=Xg,b.startCase=Xh,b.startsWith=rf,b.sum=Nf,b.template=sf,b.trim=tf,b.trimLeft=uf,b.trimRight=vf,b.trunc=wf,b.unescape=xf,b.uniqueId=Lf,b.words=yf,b.all=Xd,b.any=fe,b.contains=$d,b.eq=De,b.detect=dh,b.foldl=lh,b.foldr=mh,b.head=ud,b.include=$d,b.inject=lh,Ef(b,function(){var a={};return Fb(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.sample=ce,b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},b.VERSION=A,bb(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),bb(["drop","take"],function(a,b){Z.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Z(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},Z.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=Q;Z.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),bb(["first","last"],function(a,b){var c="take"+(b?"Right":"");Z.prototype[a]=function(){return this[c](1).value()[0]}}),bb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Z.prototype[a]=function(){return this.__filtered__?new Z(this):this[c](1)}}),bb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;Z.prototype[a]=function(a){return this[c](d(a))}}),Z.prototype.compact=function(){return this.filter(Bf)},Z.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},Z.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new Z(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==z&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Z.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Z.prototype.toArray=function(){return this.take(Bg)},Fb(Z.prototype,function(a,c){var d=/^(?:filter|map|reject)|While$/.test(c),e=/^(?:first|last)$/.test(c),f=b[e?"take"+("last"==c?"Right":""):c];f&&(b.prototype[c]=function(){var b=e?[1]:arguments,c=this.__chain__,g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Z,j=b[0],k=i||Ch(g);k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=function(a){return e&&c?f(a,1)[0]:f.apply(z,jb([a],b))},m={func:Qd,args:[l],thisArg:z},n=i&&!h;if(e&&!c)return n?(g=g.clone(),g.__actions__.push(m),a.call(g)):f.call(z,this.value())[0];if(!e&&k){g=n?g:new Z(this);var o=a.apply(g,b);return o.__actions__.push(m),new s(o,c)}return this.thru(l)})}),bb(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var c=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}}),Fb(Z.prototype,function(a,c){var d=b[c];if(d){var e=d.name,f=Hg[e]||(Hg[e]=[]);f.push({name:c,func:d})}}),Hg[Fc(z,C).name]=[{name:"wrapper",func:z}],Z.prototype.clone=ba,Z.prototype.reverse=da,Z.prototype.value=Sa,b.prototype.chain=Rd,b.prototype.commit=Sd,b.prototype.concat=ah,b.prototype.plant=Td,b.prototype.reverse=Ud,b.prototype.toString=Vd,b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=Wd,b.prototype.collect=b.prototype.map,b.prototype.head=b.prototype.first,b.prototype.select=b.prototype.filter,b.prototype.tail=b.prototype.rest,b}var z,A="3.10.0",B=1,C=2,D=4,E=8,F=16,G=32,H=64,I=128,J=256,K=30,L="...",M=150,N=16,O=200,P=1,Q=2,R="Expected a function",S="__lodash_placeholder__",T="[object Arguments]",U="[object Array]",V="[object Boolean]",W="[object Date]",X="[object Error]",Y="[object Function]",Z="[object Map]",$="[object Number]",_="[object Object]",aa="[object RegExp]",ba="[object Set]",ca="[object String]",da="[object WeakMap]",ea="[object ArrayBuffer]",fa="[object Float32Array]",ga="[object Float64Array]",ha="[object Int8Array]",ia="[object Int16Array]",ja="[object Int32Array]",ka="[object Uint8Array]",la="[object Uint8ClampedArray]",ma="[object Uint16Array]",na="[object Uint32Array]",oa=/\b__p \+= '';/g,pa=/\b(__p \+=) '' \+/g,qa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ra=/&(?:amp|lt|gt|quot|#39|#96);/g,sa=/[&<>"'`]/g,ta=RegExp(ra.source),ua=RegExp(sa.source),va=/<%-([\s\S]+?)%>/g,wa=/<%([\s\S]+?)%>/g,xa=/<%=([\s\S]+?)%>/g,ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,za=/^\w*$/,Aa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ba=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ca=RegExp(Ba.source),Da=/[\u0300-\u036f\ufe20-\ufe23]/g,Ea=/\\(\\)?/g,Fa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ga=/\w*$/,Ha=/^0[xX]/,Ia=/^\[object .+?Constructor\]$/,Ja=/^\d+$/,Ka=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,La=/($^)/,Ma=/['\n\r\u2028\u2029\\]/g,Na=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Oa=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Pa=-1,Qa={};Qa[fa]=Qa[ga]=Qa[ha]=Qa[ia]=Qa[ja]=Qa[ka]=Qa[la]=Qa[ma]=Qa[na]=!0,Qa[T]=Qa[U]=Qa[ea]=Qa[V]=Qa[W]=Qa[X]=Qa[Y]=Qa[Z]=Qa[$]=Qa[_]=Qa[aa]=Qa[ba]=Qa[ca]=Qa[da]=!1;var Ra={};Ra[T]=Ra[U]=Ra[ea]=Ra[V]=Ra[W]=Ra[fa]=Ra[ga]=Ra[ha]=Ra[ia]=Ra[ja]=Ra[$]=Ra[_]=Ra[aa]=Ra[ca]=Ra[ka]=Ra[la]=Ra[ma]=Ra[na]=!0,Ra[X]=Ra[Y]=Ra[Z]=Ra[ba]=Ra[da]=!1;var Sa={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ua={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Va={"function":!0,object:!0},Wa={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ya=Va[typeof c]&&c&&!c.nodeType&&c,Za=Va[typeof b]&&b&&!b.nodeType&&b,$a=Ya&&Za&&"object"==typeof a&&a&&a.Object&&a,_a=Va[typeof self]&&self&&self.Object&&self,ab=Va[typeof window]&&window&&window.Object&&window,bb=Za&&Za.exports===Ya&&Ya,cb=$a||ab!==(this&&this.window)&&ab||_a||this,db=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(cb._=db,define(function(){return db})):Ya&&Za?bb?(Za.exports=db)._=db:Ya._=db:cb._=db}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);